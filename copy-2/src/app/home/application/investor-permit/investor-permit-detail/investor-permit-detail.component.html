<div class="v-flex body-pattern detail-card" [appAccess]="detailConfig?.appAccess" [parentId]="detailConfig?.pageId">
  <scroll>
    <div class="header-panel between px-2 pt16">
      <div class="lg-header-label">
        @if(investorParams.applicationTypeDescription){
        {{ appealScreenName }} - {{ screenName }} ({{investorParams.applicationTypeDescription}})
        }
      </div>
      @if(investorParams.statusValue === 'PAYIN' && investorParams.isPaymentBtnShow === 'Y'){
      <div class="ml-auto p-1" [appButtonAccess]="detailConfig?.manualPayBtn">
        <button class="home-btn-primary" appButton="Manual Payment" (click)="makePayment()"></button>
      </div>
      }
      <div class="slot-center page-container">
        <div class="page-select">
          Detail {{ currentIndex + 1 }} of {{ array.length }} |
        </div>
        <div class="slot-center gap16">
          <a (click)="movePreviousUrl()" class="a"  [ngClass]="{ 'pointer-none': currentIndex === 0 }">
            <ion-icon name="caret-back-outline"></ion-icon>
          </a>
          <a  (click)="moveNextUrl()"class="b" [ngClass]="{ 'pointer-none':  currentIndex === array.length-1 }">
            <ion-icon name="caret-forward-outline"></ion-icon>
          </a>
        </div>
      </div>
    </div>
    <div class="home-card-panel mx-2">
      <div class="permit-card">
        <row>
          <div class="col-md-12 fle">
            <div class="item-content">
              <table>
                <tr>
                  <td>Application No</td>
                  <td>: {{
                    investorParams.permitApplicationNo
                    ? investorParams.permitApplicationNo
                    : "-"
                    }}
                  </td>
                </tr>
                <tr>
                  <td>Applicant Name</td>
                  <td>: {{
                    investorParams.pentInvestorPermitApplication
                    .pentInvestorPermitApplicationPrimaryApplicantDetail
                    .givenNames
                    }}
                    {{
                    investorParams.pentInvestorPermitApplication
                    .pentInvestorPermitApplicationPrimaryApplicantDetail.surname
                    }}
                  </td>
                </tr>
                <tr>
                  <td>Passport No</td>
                  <td>: {{
                    investorParams.pentInvestorPermitApplication
                    .pentInvestorPermitApplicationPrimaryApplicantDetail
                    .passportNumber
                    }}
                  </td>
                </tr>
                <tr>
                  <td>Permit No</td>
                  <td>:
  
                    @if( investorParams.permitNumber ){
                    <div class="app-label-value link-permit pl2"
                      (click)="generateParmitLetter(investorParams.permitApplicationId)">
                      {{
                      investorParams.permitNumber
                      }}
                    </div>
                    }
                    @else{
                    <div class="app-label-value noWrap">
                      -
                    </div>
                    }
                  </td>
                </tr>
                <tr>
                  <td>Receipt No</td>
                  <td> : @if(investorParams.pentReceipt.receiptNo ){
                    <div class="app-label-value noWrap link-permit pl2"
                      (click)="generateReceiptPDF(investorParams.pentReceipt)">
                      {{
                      investorParams.pentReceipt.receiptNo
                      }}
                    </div>
                    }
                    @else{
                    <div class="app-label-value noWrap">
                      -
                    </div>
                    }
  
                  </td>
                </tr>
                <tr>
                  <td>Receipt Date</td>
                  <td>: {{
                    investorParams.pentReceipt.receiptDate
                    ? (investorParams.pentReceipt.receiptDate | appDate : 'datetime')
                    : "-"
                    }}
                  </td>
                </tr>
  
  
  
              </table>
            </div>
            <div class="item-content">
              <table>
  
  
                <tr>
                  <td>Submitted Date</td>
                  <td>:
                    {{
                    investorParams.submittedDate
                    ? (investorParams.submittedDate | appDate : 'datetime')
                    : "-"
                    }}
  
                  </td>
                </tr>
                <tr>
                  <td>Assigned Date</td>
                  <td>: {{
                    investorParams.assignedDate
                    ? (investorParams.assignedDate | appDate : "datetime")
                    : "-"
                    }}
                  </td>
                </tr>
                <tr>
                  <td>Assigned To</td>
                  <td>:
                    @if(investorParams.plstentPermitApplicationAssignedOfficerHistory.length > 0) {
                    {{
                    investorParams.plstentPermitApplicationAssignedOfficerHistory[0].assignedToFullName
                    ? investorParams.plstentPermitApplicationAssignedOfficerHistory[0].assignedToFullName
                    : "-"
                    }}
                    }
                  </td>
                </tr>
  
                <tr>
                  <td>Stage</td>
                  <td>: {{
                    investorParams.stageDescription
                    ? investorParams.stageDescription
                    : "-"
                    }}
                  </td>
                </tr>
                <tr>
                  <td>Status</td>
                  <td>: {{
                    investorParams.statusDescription
                    ? investorParams.statusDescription
                    : "-"
                    }}
                  </td>
                </tr>
                <tr>
                  <td>Current Action</td>
                  <td>: {{
                    investorParams.currentActionDescription
                    ? investorParams.currentActionDescription
                    : "-"
                    }}
                  </td>
                </tr>
  
              </table>
            </div>
            <div class="item-content">
              <table>
                <tr>
                  <td>Edited By</td>
                  <td>:
                    {{
                    investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.lastEditedByFullName
                    ?
                    investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.lastEditedByFullName
                    : "-"
                    }}
  
                  </td>
                </tr>
                @if(investorParams.applicationCategoryValue === 'APPEL'){
                  <tr>
                    <td>Rejected Appln. No.</td>
                    <td>: 
                      @if(investorParams.rejectedApplicationNumber){
                        <div class="app-label-value link-permit pl2"
                        (click)="openRejectedApplication()">
                        {{
                          investorParams.rejectedApplicationNumber
                          }}
                      </div>
                      }
                      @else{
                         -
                      }
                    </td>
                  </tr>
                }
                <tr>
                  <td>
                    <div class="color-1">
                      Controversial (0)
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="color-2">
                      Travel History (0)
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="color-3">
                      Permit Details (0)
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="color-4">
                      Passport List (0)
                    </div>
                  </td>
                </tr>
  
  
              </table>
            </div>
            <div class="item-content d-flex align-center">
              <table>
                <tr>
                  <td>
                    <div class="v-flex cir">
                      <div class="text-gray-1">Success Percentage</div>
                      <app-circle-progress value="{{investorParams.approvedPercentage}}"></app-circle-progress>
                    </div>
                  </td>
                </tr>
  
              </table>
            </div>
          </div>
        </row>
      </div>
    </div>
    <div class="v-flex h100 home-tab-container horizontal-tab pb16 px-2">
      <!-- <div class="flex-1 relative">
                      <scroll> -->
      <app-tab-group [isHorizontal]="false" class="tabs-groups" (tabChange)="onTabChange($event)">
        <!-- <div class="flex-1 relative h100"> -->
        @if(appealType === 'APPEL'){
        <app-tab tabTitle="Required Info" content="investorParams.pentAppealApplicationRequiredInformation">
          <div class="vertical-tabs  v-flex h100 p-2">
            <div class="flex-1 relative h100">
              <scroll>
                <div class="flex-1 relative">
                  <div class="col-md-2">
                    <div class="lg-label-header dark-lb pb8">
                      Reasons for Rejection
                    </div>
                    <div class="text-gray-border-bottom-1"></div>
                  </div>
                  <div class="checkbox-success-container pt16">
                    <ul>
                      @for (reject of
                      investorParams.pentAppealApplicationRequiredInformation.plstentPermitApplicationRecommendationRejectReason;
                      track $index) {
                      <li>
                        <div class="checkbox-success">
                          <mat-checkbox class="mat-checks" [checked]="reject.isChecked === 'Y'" [disabled]="true">
                            @if(reject.reasonValue === 'ACPIS'){
                            <app-input-placer
                              [(data)]="investorParams.pentAppealApplicationRequiredInformation.plstentPermitApplicationRecommendationRejectReason[$index]"
                              [errorTrue]="errorTrue" [binder]="['sectionSuffix1', 'sectionSuffix2']" [readonly]="true">
                            </app-input-placer>
                            }
                            @else {
                            {{ reject.reasonDescription }}
                            }
                          </mat-checkbox>
                        </div>
                      </li>
                      @if(reject.isChecked === 'Y' && reject.reasonValue === 'OTHER'){
                      <div class="col-md-12 pt16">
                        <app-input-control designType="textarea" [maxCharacterLength]="true"
                          [maxLength]="appSetting.environment.wordLimits" label="Other Reason" className="textarea"
                          [(ngModel)]="reject.otherReason" name="otherReason" [btnClicked]="true"
                          [noEmoji]="true"></app-input-control>
                      </div>
                      }
                      }
                    </ul>
                  </div>
                </div>
  
                <div class="pt8">
                  <app-label type="verticalText1" header="Comments" value="{{
                                      investorParams.pentAppealApplicationRequiredInformation.comments
                                    }}"></app-label>
                </div>
                <div class="flex-1 relative mt16 h100">
                  <scroll>
                    <table class="application-table">
                      <thead class="app-table-header">
                        <tr class="app-table-header-row">
                          <th class="app-table-header-cell">Document Type</th>
                          <th class="app-table-header-cell">Document No</th>
                          <th class="app-table-header-cell">
                            File Name
                            <div class="header-cell-subtitle pt8">File Size</div>
                          </th>
                          <th class="app-table-header-cell">
                            Uploaded Date/Time
                            <div class="header-cell-subtitle pt8">Days To Expiry</div>
                          </th>
                          <th class="app-table-header-cell">
                            Status
                            <div class="header-cell-subtitle pt8">Changed By</div>
                          </th>
                          <th class="app-table-header-cell">Action</th>
                        </tr>
                      </thead>
                      <tbody class="app-table-body">
                        @for(doc of
                        investorParams.pentAppealApplicationRequiredInformation.plstentInvestorAppealApplicationRequiredDocuments;
                        track doc; let i = $index){ @for(docDetail of
                        doc.plstentInvestorPermitApplicationDocumentsDetail; track
                        $index){
                        <tr class="app-table-row">
                          <td class="cell-content">
                            {{ doc.documentTypeDescription }}
                          </td>
                          <td class="cell-content">
                            {{ docDetail.documentRefNo }}
                          </td>
                          <td class="cell-content">
                            {{ docDetail.pentDocumentFile.documentFileName }}
                            <div class="table-cell-subtitle pt8">
                              {{ docDetail.pentDocumentFile.documentSize | byteToMb }}
                            </div>
                          </td>
                          <td class="cell-content">
                            {{ docDetail.createdDate | appDate : "datetime" }}
                            <div class="table-cell-subtitle pt8">
                              {{ docDetail.strExpiryComment }}
                              @if(docDetail.expiryDate){
                              ({{
                              docDetail.expiryDate | appDate
                              }})
                              }
                              @else {
                              -
                              }
                            </div>
                          </td>
                          <td class="cell-content">
                            {{ docDetail.documentStatusDescription }}
                            <div class="table-cell-subtitle pt8"></div>
                          </td>
                          <td class="cell-content">
                            <div class="vw-action" (click)="viewDocument(docDetail, i, 'reqInfo')" [appButtonAccess]="detailConfig?.docViewBtn">
                              <span>View</span>
                            </div>
                          </td>
                        </tr>
                        } }
                        <!-- } -->
                      </tbody>
                    </table>
                  </scroll>
                </div>
              </scroll>
            </div>
            <!-- <div class="pt8">
              <app-label type="verticalText1" header="Reason for Rejection" value="{{
                                  permitParams.pentAppealApplicationRequiredInformation
                                    .reasonForRejection
                                }}"></app-label>
            </div> -->
  
          </div>
        </app-tab>
        }
        <!-- APPLICATION -->
        <app-tab tabTitle="Application">
          <div class="vertical-tabs v-flex h100">
            <app-tab-group-vertical class="tab-groups" (tabChange)="onVerticalTabChange($event)">
              <app-tab-vertical tabTitle="Primary Applicant">
                <div class="v-flex h100">
                  <div class="flex-1 relative">
                    <scroll>
                      <div class="vertical-bg">
                        <form #l="ngForm" (ngSubmit)="saveInvestorPermitPrimaryApplicantDetail(l)">
                          @if(investorParams.statusValue === 'APINP') {
                          <row>
                            <div class="col-md-12 pb16 end" [appAccess]="detailConfig?.applicantSaveBtn">
                              <button class="home-btn-primary" appButton="Save" appButtonAccess="IPPAS"></button>
                            </div>
                            <div class="col-md-2">
                              <div class="lg-label-header dark-lb pb8">
                                Personal Details
                              </div>
                              <div class="text-gray-border-bottom-1"></div>
                            </div>
                          </row>
                          <row className="pt26">
                            @if(investorParams.applicationTypeValue === 'EXTEN' || investorParams.applicationTypeValue ===
                            'BALAN') {
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Existing Permit Number"
                                [(ngModel)]="investorParams.exisitingPermitNumber" [required]="true"
                                [errorTrue]="errorTrue" name="existingPermitNumber" [btnClicked]="true"></app-input-control>
                            </div>
                            }
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="select" label="Preferred Title"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.preferredTitleValue"
                                [items]="initialData.DDLValues.DDLPreferredTitle" key="constant" keyName="description"
                                [required]="true" [errorTrue]="errorTrue" name="preferredTitleValue" [oldValueDescription]="applicant?.preferred_title_description" [oldValue]="applicant?.preferred_title_value">
                              </app-input-control>
                            </div>
                            @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                            preferredTitleValue === 'OTHER') {
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Other Title" [required]="true"
                                [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.otherTitle"
                                name="otherTitle" [old]="applicant?.other_title"></app-input-control>
                            </div>
                            }
                          </row>
  
                          <row>
  
                            <!-- @if(investorParams.applicationTypeValue === 'EXTEN') {
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="select" label="Preferred Title"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.preferredTitleValue"
                                [items]="initialData.DDLValues.DDLPreferredTitle" key="constant" keyName="description"
                                [required]="true" [errorTrue]="errorTrue" name="preferredTitleValue"></app-input-control>
                            </div>
                            @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                            preferredTitleValue === 'OTHER') {
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Other Title" [required]="true"
                                [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.otherTitle"
                                name="otherTitle"></app-input-control>
                            </div>
                            } @else {
                            <div class="col-md-4"></div>
                            }
                            } @else { -->
                            <!-- @else {
                            <div class="col-md-4"></div>
                            }
                            <div class="col-md-4"></div> -->
                            <!-- } -->
  
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Given Name" [required]="true"
                                [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.givenNames"
                                name="givenNames" [oldValue]="applicant?.given_names"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Surname" [required]="true"
                                [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.surname"
                                name="surname" [oldValue]="applicant?.surname"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="email" label="Email Id" [required]="true"
                                [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.emailId"
                                name="emailId" [oldValue]="applicant?.email_id"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="number" [maxLength]="20" label="Contact No"
                                [required]="true" [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.mobileNo"
                                name="mobileNo" [oldValue]="applicant?.mobile_no"></app-input-control>
                            </div>
  
  
                            <div class="col-md-4">
                              <app-check-box label="Any other name Applicant known by"
                                [objArray]="[{label: 'Yes', trueValue: 'Y', falseValue: ''}, {label: 'No', trueValue: 'N', falseValue: ''}]"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyOtherName"
                                name="isAnyOtherName12" [required]="true" [errorTrue]="errorTrue" [oldValue]="applicant?.is_any_other_name"></app-check-box>
                            </div>
                            @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                            isAnyOtherName === 'Y') {
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Other Given Names"
                                [required]="true" [errorTrue]="errorTrue" [(ngModel)]="
                                  investorParams.pentInvestorPermitApplication
                                    .pentInvestorPermitApplicationPrimaryApplicantDetail
                                    .otherGivenNames
                                " name="otherGivenNames" [oldValue]="applicant?.other_given_names"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Other Surname"
                                [required]="true" [errorTrue]="errorTrue" [(ngModel)]="
                                  investorParams.pentInvestorPermitApplication
                                    .pentInvestorPermitApplicationPrimaryApplicantDetail
                                    .otherSurname
                                " name="otherSurname" [oldValue]="applicant?.other_surname"></app-input-control>
                            </div>
                            }
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="select" label="Gender" [required]="true"
                                [errorTrue]="errorTrue" [items]="initialData.DDLValues.DDLGender" key="constant"
                                keyName="description"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.genderValue"
                                name="genderValue" [oldValueDescription]="applicant?.gender_description" [oldValue]="applicant?.gender_value"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="date" label="Date of Birth"
                                [required]="true" [errorTrue]="errorTrue" [isAdult]="true"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.dateOfBirth"
                                name="dateOfBirth232" [oldValue]="applicant?.date_of_birth"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="select" label="Nationality"
                                [required]="true" [errorTrue]="errorTrue" [items]="initialData.DDLValues.DDLNationality"
                                key="constant" keyName="description"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.nationalityValue"
                                name="nationalityValue" [oldValueDescription]="applicant?.nationality_description" [oldValue]="applicant?.nationality_value" >
                              </app-input-control>
                            </div>
                            @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.nationalityValue
                            === 'OTHER') {
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Other Nationality"
                                [required]="true" [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.otherNationality"
                                name="otherNationality" [oldValue]="applicant?.other_nationality"></app-input-control>
                            </div>
                            }
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="select" label="Martial Status"
                                [required]="true" [errorTrue]="errorTrue" [items]="initialData.DDLValues.DDLMartialStatus"
                                key="constant" keyName="description"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.maritalStatusValue"
                                name="maritalStatusValue" [oldValueDescription]="applicant?.marital_status_description" [oldValue]="applicant?.marital_status_value">
                              </app-input-control>
                            </div>
  
                            <div class="col-md-4">
                              <app-check-box label="Are you currently outside Fiji?"
                                [objArray]="[{label: 'Yes', trueValue: 'Y', falseValue: ''}, {label: 'No', trueValue: 'N', falseValue: ''}]"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.currentlyOutsideOfFiji"
                                name="currentlyOutsideOfFiji4634" [required]="true"
                                [errorTrue]="errorTrue"></app-check-box>
                            </div>
  
                            @if(investorParams.pentInvestorPermitApplication.currentlyOutsideOfFiji ===
                            'Y'){
                            <div class="col-md-4">
                              <app-input-control className="white-input" label="Intended Date of Arrival" type="date"
                                [required]="true" [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.indentedArraivalDate"
                                name="indentedArraivalDate" [minDate]="appService.getCurrentDate()" [oldValue]="investor?.indented_arraival_date"></app-input-control>
                            </div>
                            }
  
                            <div class="check-lb col-md-12">
                              Are you already in the Fiji Islands, please provide the following information:
                            </div>
                            <div class="col-md-12">
                              <div class="step-lg-title">Current Permit Details</div>
                            </div>
  
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Permit No"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.existingPermitNumber"
                                name="existingPermitNumber1" [oldValue]="applicant?.existing_permit_number"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="date" label="Date of Entry"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.existingDateOfEntry"
                                [maxDate]="appService.getCurrentDate()" name="existingDateOfEntry" [oldValue]="applicant?.existing_date_of_entry"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Port of Entry"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.existingPortOfEntry"
                                name="existingPortOfEntry" [oldValue]="applicant?.existing_port_of_entry"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="select" label="Type of Permit"
                                [items]="initialData.DDLValues.DDLPermitCat" key="constant" keyName="description"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.typeOfExistingPermitValue"
                                name="typeOfExistingPermitValue" [oldValueDescription]="applicant?.type_of_existing_permit_description" [oldValue]="applicant?.type_of_existing_permit_Value"> 
                              </app-input-control>
                            </div>
  
                          </row>
  
                          <!-- PASSPORT DETAIL -->
                          <row className="pt16">
                            <div class="col-md-2">
                              <div class="lg-label-header dark-lb pb8">
                                Passport Details
                              </div>
                              <div class="text-gray-border-bottom-1"></div>
                            </div>
                          </row>
                          <row className="pt26">
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Passport Number"
                                [required]="true" [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.passportNumber"
                                name="passportNumber" [oldValue]="applicant?.passport_number"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="select" label="Country Of Passport"
                                [required]="true" [errorTrue]="errorTrue" [items]="initialData.DDLValues.DDLNationality"
                                key="constant" keyName="description"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.countryOfPassportValue"
                                name="countryOfPassportValue1" [oldValueDescription]="applicant?.country_of_passport_description" [oldValue]="applicant?.country_of_passport_value">
                              </app-input-control>
                            </div>
  
                            @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.countryOfPassportValue
                            === 'OTHER') {
                            <app-input-control className="white-input" type="text" label="Other Country Of Passport"
                              [required]="true" [errorTrue]="errorTrue"
                              [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.otherCountry"
                              name="otherCountry1" [oldValue]="applicant?.other_country"></app-input-control>
                            }
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="text" label="Place of Issue"
                                [required]="true" [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.placeOfIssue"
                                name="placeOfIssue" [oldValue]="applicant?.place_of_issue"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="date" label="Date of Issue"
                                [required]="true" [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.dateOfIssue"
                                [maxDate]="appService.getCurrentDate()" name="dateOfIssue" [oldValue]="applicant?.date_of_issue"></app-input-control>
                            </div>
                            <div class="col-md-4">
                              <app-input-control className="white-input" type="date" label="Date of Expiry"
                                [required]="true" [errorTrue]="errorTrue"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.dateOfExpiry"
                                [minDate]="appService.getCurrentDate()"
                                [addMaxMonth]="appSetting.environment.passportDateValidateMonth" [isFuture]="true"
                                name="dateOfExpiry" [oldValue]="applicant?.date_of_expiry"></app-input-control>
                            </div>
  
  
                          </row>
  
                          <div class="dashed-border"></div>
                          <row>
                            <div class="col-md-12 pt16 pb8">
                              <app-check-box type="horDisabledValueLeft" label="Other Current Passport Details (If Yes)"
                                [objArray]="[{ label: 'Yes', trueValue: 'Y', falseValue: '' },{ label: 'No', trueValue: 'N', falseValue: '' }]"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyOtherPassport"
                                name="isAnyOtherPassport" [btnClicked]="true"></app-check-box>
                            </div>
                            @if(investorParams.pentInvestorPermitApplication
                            .pentInvestorPermitApplicationPrimaryApplicantDetail
                            .isAnyOtherPassport === 'Y'){
                            <div class="col-md-12">
                              <row>
                                <div class="col-md-9">
                                  <table class="specific_table">
                                    <thead class="app-table-header">
                                      <tr class="app-table-header-row">
                                        <th rowspan="2" class="app-table-header-cell">
                                          <div class="table-flex pb8">
                                            <span>Passport No</span>
                                          </div>
                                          <div class="">Country Of Passport</div>
                                        </th>
                                        <th class="app-table-header-cell">
                                          <div class="table-flex">
                                            <span>Place of Issue</span>
                                          </div>
                                        </th>
                                        <th class="app-table-header-cell">
                                          <div class="table-flex">
                                            <span>Date of Issue</span>
                                          </div>
                                        </th>
                                        <th class="app-table-header-cell">
                                          <div class="table-flex">
                                            <span>Date of Expiry</span>
                                          </div>
                                        </th>
                                      </tr>
                                    </thead>
                                    <tbody class="app-table-body">
  
                                      <tr class="app-table-row">
                                        <td rowspan="2" class="cell-content">
                                          <div>
                                            {{
                                            investorParams.pentInvestorPermitApplication
                                            .pentInvestorPermitApplicationPrimaryApplicantDetail
                                            .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                            .passportNumber
                                            }}
                                          </div>
                                          <div class="pt16">
                                            {{
                                            investorParams.pentInvestorPermitApplication
                                            .pentInvestorPermitApplicationPrimaryApplicantDetail
                                            .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                            .countryOfPassportDescription
                                            }}
                                          </div>
                                        </td>
                                        <td class="cell-content">
                                          {{
                                          investorParams.pentInvestorPermitApplication
                                          .pentInvestorPermitApplicationPrimaryApplicantDetail
                                          .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                          .placeOfIssue
                                          }}
                                        </td>
                                        <td class="cell-content">
                                          {{
                                          investorParams.pentInvestorPermitApplication
                                          .pentInvestorPermitApplicationPrimaryApplicantDetail
                                          .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                          .dateOfIssue | appDate
                                          }}
                                        </td>
                                        <td class="cell-content">
                                          {{
                                          investorParams.pentInvestorPermitApplication
                                          .pentInvestorPermitApplicationPrimaryApplicantDetail
                                          .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                          .dateOfExpiry | appDate
                                          }}
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </row>
                            </div>
                            }
                          </row>
  
                          <div class="dashed-border mb26"></div>
  
                          <row>
                            <div class="col-md-12 p-0">
                              <app-check-box label="Did you held any previous passport(s) ?" type="horDisabledValueLeft"
                                [objArray]="objArray"
                                [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyPreviousPassports"
                                name="isAnyPreviousPassports"></app-check-box>
                            </div>
                          </row>
  
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyPreviousPassports
                          === 'Y') {
                          <row>
                            <!-- <div class="col-md-4">
                              <app-label type="verticalText" header="Country Of Passport" value="{{
                                                              investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                              pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.countryOfPassportDescription
                                                            }}"></app-label>
                            </div> -->
                            @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.countryOfPassportValue
                            === 'OTHER') {
                            <div class="col-md-4">
                              <app-label type="verticalText" header="Other Country Of Passport" value="{{
                                                              investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                              pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.otherCountry
                                                            }}"></app-label>
                            </div>
                            }
                          </row>
                          <row>
                            <div class="col-md-12">
                              <!-- <row>
                                    <div class="col-md-9"> -->
                              <table class="specific_table">
                                <thead class="app-table-header">
                                  <tr class="app-table-header-row">
                                    <th rowspan="2" class="app-table-header-cell">
                                      <div class="table-flex pb8">
                                        <span>Passport No</span>
                                      </div>
                                      <div>Country Of Passport</div>
  
                                    </th>
                                    <th class="app-table-header-cell">
                                      <div class="table-flex">
                                        <span>Place of Issue</span>
                                      </div>
                                    </th>
                                    <th class="app-table-header-cell">
                                      <div class="table-flex">
                                        <span>Date of Issue</span>
                                      </div>
                                    </th>
                                    <th class="app-table-header-cell">
                                      <div class="table-flex">
                                        <span>Date of Expiry</span>
                                      </div>
                                    </th>
                                  </tr>
                                </thead>
                                <tbody class="app-table-body">
                                  <!-- @if(investorParams.recommendationValue ===
                                            'vvvvv' || investorParams.recommendationValue
                                            === 'MMMM'){ } @else{ -->
                                  <tr class="app-table-row">
                                    <td rowspan="2" class="cell-content">
                                      <div>
                                        {{
                                        investorParams.
                                        pentInvestorPermitApplication.
                                        pentInvestorPermitApplicationPrimaryApplicantDetail.
                                        pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.passportNumber
                                        }}
                                      </div>
                                      <div class="pt16"> {{
                                        investorParams.
                                        pentInvestorPermitApplication.
                                        pentInvestorPermitApplicationPrimaryApplicantDetail.
                                        pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.countryOfPassportDescription
                                        }}</div>
  
                                    </td>
                                    <td class="cell-content">
                                      {{
                                      investorParams.
                                      pentInvestorPermitApplication.
                                      pentInvestorPermitApplicationPrimaryApplicantDetail.
                                      pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.placeOfIssue
                                      }}
                                    </td>
                                    <td class="cell-content">
                                      {{
                                      investorParams.
                                      pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                      pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.dateOfIssue | appDate
                                      }}
                                    </td>
                                    <td class="cell-content">
                                      {{
                                      investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                      pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.dateOfExpiry |
                                      appDate
                                      }}
                                    </td>
                                  </tr>
                                  <!-- } -->
                                </tbody>
                              </table>
                              <!-- </div>
                                  </row> -->
                            </div>
                          </row>
                          }
  
                          }
  
                        </form>
                        @if(investorParams.statusValue !== 'APINP') {
                        <row>
                          <div class="col-md-2">
                            <div class="lg-label-header dark-lb pb8">
                              Personal Details
                            </div>
                            <div class="text-gray-border-bottom-1"></div>
                          </div>
                        </row>
                        <row>
                          @if(investorParams.applicationTypeValue === 'EXTEN' || investorParams.applicationTypeValue ===
                          'BALAN') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Existing Permit Number" value="{{
                                investorParams.exisitingPermitNumber
                              }}"></app-label>
                          </div>
                          }
                        </row>
                        <row>
                          @if(investorParams.applicationTypeValue === 'EXTEN') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Preferred Title" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .preferredTitleValue
                                                  }}"></app-label>
                          </div>
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                          preferredTitleValue === 'OTHER') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Other Title" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .otherTitle
                                                  }}"></app-label>
                          </div>
                          } @else {
                          <div class="col-md-4"></div>
                          }
                          } @else {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Preferred Title" value="{{
                                                      investorParams.pentInvestorPermitApplication
                                                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                        .preferredTitleValue
                                                    }}"></app-label>
                          </div>
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                          preferredTitleValue === 'OTHER') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Other Title" value="{{
                                                      investorParams.pentInvestorPermitApplication
                                                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                        .otherTitle
                                                    }}"></app-label>
                          </div>
                          } @else {
                          <div class="col-md-4"></div>
                          }
                          <div class="col-md-4"></div>
                          }
  
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Given Name" value="{{
                                                      investorParams.pentInvestorPermitApplication
                                                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                        .givenNames
                                                    }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Surname" value="{{
                                                      investorParams.pentInvestorPermitApplication
                                                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                        .surname
                                                    }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Gender" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .genderDescription
                                                  }}"></app-label>
                          </div>
                        </row>
  
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Contact No" value="{{
                                                  investorParams.pentInvestorPermitApplication
                                                    .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                    .mobileNo
                                                }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Email Id" value="{{
                                                  investorParams.pentInvestorPermitApplication
                                                    .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                    .emailId
                                                }}"></app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-12 pt8">
                            <app-check-box type="horDisabledValueLeft" label="Any other name Applicant known by"
                              [objArray]="[{label: 'Yes', trueValue: 'Y', falseValue: ''}, {label: 'No', trueValue: 'N', falseValue: ''}]"
                              [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyOtherName"
                              name="isAnyOtherName"></app-check-box>
                          </div>
                        </row>
                        <row>
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyOtherName
                          === 'Y') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Other Given Name" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.otherGivenNames
                                                }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Other Surname" value="{{
                                                  investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  otherSurname
                                                }}"></app-label>
                          </div>
                          }
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Date of Birth" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .dateOfBirth | appDate
                                                  }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Nationality" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .nationalityDescription
                                                  }}"></app-label>
                          </div>
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.nationalityValue
                          === 'OTHER') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Other Nationality" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .otherNationality
                                                  }}"></app-label>
                          </div>
                          }
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Martial Status" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .maritalStatusDescription
                                                  }}"></app-label>
                          </div>
                          @if(investorParams.pentInvestorPermitApplication.currentlyOutsideOfFiji
                          === "N"){
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Intended Arrival Date" value="{{investorParams.pentInvestorPermitApplication
                                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                                        .dateOfBirth | appDate}}">
                            </app-label>
                          </div>
                          }
                        </row>
  
                        <!-- <row> -->
                        <div class="check-lb px-1 pt8">
                          Are you already in the Fiji Islands, please prove the following information:
                        </div>
                        <row>
                          <div class="col-md-12">
                            <div class="step-lg-title">Current Permit Details</div>
                          </div>
                        </row>
  
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Permit No" value="{{investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.existingPermitNumber
                                  }}">
                            </app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Date of Entry" value="{{investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.existingDateOfEntry | appDate 
                                  }}">
                            </app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Port of Entry" value="{{investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.existingPortOfEntry
                                  }}">
                            </app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Type of Permit" value="{{investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.typeOfExistingPermitDescription
                                  }}">
                            </app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Permit Expiry Date" value="{{investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.existingPermitExpiryDate | appDate 
                                  }}">
                            </app-label>
                          </div>
                        </row>
                        <!-- </row> -->
                        <!-- / -->
  
                        <!-- PASSPORT DETAIL -->
                        <row className="pt26">
                          <div class="col-md-2">
                            <div class="lg-label-header dark-lb pb8">
                              Passport Details
                            </div>
                            <div class="text-gray-border-bottom-1"></div>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Country of Passport " value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .countryOfPassportDescription
                                                  }}"></app-label>
                          </div>
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.countryOfPassportValue
                          === 'OTHER') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Other Country Of Passport"
                              value="{{investorParams.pentInvestorPermitApplication.
                                                          pentInvestorPermitApplicationPrimaryApplicantDetail.otherCountry}}">
                            </app-label>
                          </div>
                          }
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Passport Number" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .passportNumber
                                                  }}"></app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Date of Issue" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .dateOfIssue | appDate 
                                                  }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Date of Expiry" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .dateOfExpiry | appDate
                                                  }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Place of Issue" value="{{
                                                    investorParams.pentInvestorPermitApplication
                                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                      .placeOfIssue
                                                  }}"></app-label>
                          </div>
                        </row>
  
                        <div class="dashed-border mb8"></div>
                        <!-- Paste here -->
                        <!-- @if(investorParams.permitTypeValue !== 'OVEE1') { -->
                        <!-- <row>
                            <div class="col-md-12 pt2"> -->
                        <app-check-box type="horDisabledValueLeft" label="Other Current Passport Details (If Yes)"
                          [objArray]="[
                                                                            { label: 'Yes', trueValue: 'Y', falseValue: '' },
                                                                            { label: 'No', trueValue: 'N', falseValue: '' }
                                                                          ]" [(ngModel)]="
                                                                            investorParams.pentInvestorPermitApplication
                                                                              .pentInvestorPermitApplicationPrimaryApplicantDetail
                                                                              .isAnyOtherPassport
                                                                          " [btnClicked]="true"></app-check-box>
                        <!-- </div>
                          </row> -->
  
                        @if(investorParams.pentInvestorPermitApplication
                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                        .isAnyOtherPassport === 'Y'){
                        <!-- <div class="col-md-4">
                          <app-label type="verticalText" header="Country Of Passport" value="{{
                                                                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                                            pentInvestorPermitApplicationPrimaryApplicantOtherPassports.countryOfPassportDescription
                                                                          }}"></app-label>
                        </div> -->
                        @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationPrimaryApplicantOtherPassports.countryOfPassportValue
                        === 'OTHER') {
                        <div class="col-md-4">
                          <app-label type="verticalText" header="Other Country Of Passport" value="{{
                                investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentInvestorPermitApplicationPrimaryApplicantOtherPassports.otherCountry
                              }}"></app-label>
                        </div>
                        }
                        <div class="col-md-12">
                          <row>
                            <div class="col-md-9">
                              <table class="specific_table">
                                <thead class="app-table-header">
                                  <tr class="app-table-header-row">
                                    <th rowspan="2" class="app-table-header-cell">
                                      <div class="table-flex pb8">
                                        <span>Passport No</span>
                                      </div>
                                      <div>Country of Passport</div>
                                    </th>
                                    <th class="app-table-header-cell">
                                      <div class="table-flex">
                                        <span>Place of Issue</span>
                                      </div>
                                    </th>
                                    <th class="app-table-header-cell">
                                      <div class="table-flex">
                                        <span>Date of Issue</span>
                                      </div>
                                    </th>
                                    <th class="app-table-header-cell">
                                      <div class="table-flex">
                                        <span>Date of Expiry</span>
                                      </div>
                                    </th>
                                  </tr>
                                </thead>
                                <tbody class="app-table-body">
                                  <!-- @if(investorParams.recommendationValue ===
                                        'vvvvv' || investorParams.recommendationValue
                                        === 'MMMM'){ } @else{ -->
                                  <tr class="app-table-row">
                                    <td rowspan="2" class="cell-content">
                                      <div>
                                        {{
                                        investorParams.pentInvestorPermitApplication
                                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                                        .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                        .passportNumber
                                        }}
                                      </div>
                                      <div class="pt16">
                                        {{
                                        investorParams.pentInvestorPermitApplication
                                        .pentInvestorPermitApplicationPrimaryApplicantDetail
                                        .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                        .countryOfPassportDescription
                                        }}
                                      </div>
                                    </td>
                                    <td class="cell-content">
                                      {{
                                      investorParams.pentInvestorPermitApplication
                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                      .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                      .placeOfIssue
                                      }}
                                    </td>
                                    <td class="cell-content">
                                      {{
                                      investorParams.pentInvestorPermitApplication
                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                      .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                      .dateOfIssue | appDate
                                      }}
                                    </td>
                                    <td class="cell-content">
                                      {{
                                      investorParams.pentInvestorPermitApplication
                                      .pentInvestorPermitApplicationPrimaryApplicantDetail
                                      .pentInvestorPermitApplicationPrimaryApplicantOtherPassports
                                      .dateOfExpiry | appDate
                                      }}
                                    </td>
                                  </tr>
                                  <!-- } -->
                                </tbody>
                              </table>
                            </div>
                          </row>
                        </div>
                        }
                        <div class="dashed-border mb8"></div>
                        <row>
                          <div class="col-md-12 p-0">
                            <app-check-box label="Did you held any previous passport(s) ?" type="horDisabledValueLeft"
                              [objArray]="objArray"
                              [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyPreviousPassports"
                              name="isAnyPreviousPassports"></app-check-box>
                          </div>
                        </row>
  
                        @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.isAnyPreviousPassports
                        === 'Y') {
                        <row>
                          <!-- <div class="col-md-4">
                            <app-label type="verticalText" header="Country Of Passport" value="{{
                                                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                            pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.countryOfPassportDescription
                                                          }}"></app-label>
                          </div> -->
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.countryOfPassportValue
                          === 'OTHER') {
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Other Country Of Passport" value="{{
                                                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                            pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.otherCountry
                                                          }}"></app-label>
                          </div>
                          }
                        </row>
                        <row>
                          <div class="col-md-12">
                            <!-- <row>
                                  <div class="col-md-9"> -->
                            <table class="specific_table">
                              <thead class="app-table-header">
                                <tr class="app-table-header-row">
                                  <th rowspan="2" class="app-table-header-cell">
                                    <div class="table-flex pb8">
                                      <span>Passport No</span>
                                      <div class="pt16">Country Of Passport</div>
                                    </div>
                                  </th>
                                  <th class="app-table-header-cell">
                                    <div class="table-flex">
                                      <span>Place of Issue</span>
                                    </div>
                                  </th>
                                  <th class="app-table-header-cell">
                                    <div class="table-flex">
                                      <span>Date of Issue</span>
                                    </div>
                                  </th>
                                  <th class="app-table-header-cell">
                                    <div class="table-flex">
                                      <span>Date of Expiry</span>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                              <tbody class="app-table-body">
                                <!-- @if(investorParams.recommendationValue ===
                                          'vvvvv' || investorParams.recommendationValue
                                          === 'MMMM'){ } @else{ -->
                                <tr class="app-table-row">
                                  <td rowspan="2" class="cell-content">
                                    <div>
                                      {{
                                      investorParams.
                                      pentInvestorPermitApplication.
                                      pentInvestorPermitApplicationPrimaryApplicantDetail.
                                      pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.passportNumber
                                      }}
                                    </div>
                                    <div class="pt16">
                                      {{
                                      investorParams.
                                      pentInvestorPermitApplication.
                                      pentInvestorPermitApplicationPrimaryApplicantDetail.
                                      pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.countryOfPassportDescription
                                      }}
                                    </div>
                                  </td>
                                  <td class="cell-content">
                                    {{
                                    investorParams.
                                    pentInvestorPermitApplication.
                                    pentInvestorPermitApplicationPrimaryApplicantDetail.
                                    pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.placeOfIssue
                                    }}
                                  </td>
                                  <td class="cell-content">
                                    {{
                                    investorParams.
                                    pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                    pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.dateOfIssue | appDate
                                    }}
                                  </td>
                                  <td class="cell-content">
                                    {{
                                    investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                    pentInvestorPermitApplicationPrimaryApplicantPreviousPassports.dateOfExpiry | appDate
                                    }}
                                  </td>
                                </tr>
                                <!-- } -->
                              </tbody>
                            </table>
                            <!-- </div>
                                </row> -->
                          </div>
                        </row>
                        }
  
                        <div class="dashed-border"></div>
                        <!-- <div class="dashed-border mt26 mb26"></div> -->
                        <!-- } -->
  
                        <!-- @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentWorkPermitApplicationPrimaryApplicantSpouseResidentialDetail.length
                              > 0) { -->
  
                        }
  
                        <row>
                          <div class="col-md-2 pt8">
                            <div class="lg-label-header dark-lb pb8">
                              Address Details
                            </div>
                            <div class="text-gray-border-bottom-1"></div>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <div class="home-address-container">
                              <div class="home-address-header">
                                Residential Address
                              </div>
                              <div class="home-address-content">
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentResidentialAddress.line1
                                }},
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentResidentialAddress.line2
                                }},
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentResidentialAddress.line3
                                }}
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentResidentialAddress.cityTown
                                }}
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentResidentialAddress.provinceState
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentResidentialAddress.countryDescription
                                ? investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentResidentialAddress.countryDescription
                                : "-"
                                }}
                                <br />
                                @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentResidentialAddress.countryValue
                                === 'OTHER') {
                                {{
                                investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentResidentialAddress.country
                                ? investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentResidentialAddress.country
                                : "-"
                                }}
                                }
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="home-address-container">
                              <div class="home-address-header">
                                Postal Address
                              </div>
                              <div class="home-address-content">
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentPostalAddress.line1
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentPostalAddress.line2
                                }},
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentPostalAddress.line3
                                }}
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentPostalAddress.cityTown
                                }}
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentPostalAddress.provinceState
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentPostalAddress.countryDescription
                                ? investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentPostalAddress.countryDescription
                                : "-"
                                }}
                                <br />
                                @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentResidentialAddress.countryValue
                                === 'OTHER') {
                                {{
                                investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentResidentialAddress.country
                                ? investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentResidentialAddress.country
                                : "-"
                                }}
                                }
                              </div>
                            </div>
                          </div>
                        </row>
                        <row className="mt16">
                          <div class="col-md-4">
                            <div class="home-address-container">
                              <div class="home-address-header">
                                Intended Residential Address in Fiji
                              </div>
                              <div class="home-address-content">
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedResidentialAddress.line1
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedResidentialAddress
                                .postBoxNoLocation
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedResidentialAddress
                                .provinceDescription
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedResidentialAddress
                                .islandDescription
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedResidentialAddress
                                .tikinaDescription
                                }}
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedResidentialAddress
                                .cityTown
                                }}
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="home-address-container">
                              <div class="home-address-header">
                                Intended Postal Address in Fiji
                              </div>
                              <div class="home-address-content">
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedPostalAddress.line1
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedPostalAddress.postBoxNoLocation
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedPostalAddress
                                .provinceDescription
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedPostalAddress
                                .islandDescription
                                }},
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedPostalAddress
                                .tikinaDescription
                                }}
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication
                                .pentInvestorPermitApplicationPrimaryApplicantDetail
                                .pentIntendedPostalAddress
                                .cityTown
                                }}
                              </div>
                            </div>
                          </div>
                        </row>
  
                        <div _ngcontent-ng-c1456055678="" class="dashed-border mt26"></div>
                        <row>
                          <div class="col-md-2 pt8">
                            <div class="lg-label-header dark-lb pb8">
                              Conviction Offenses
                            </div>
                            <div class="text-gray-border-bottom-1"></div>
                          </div>
                        </row>
                        <div class="v-flex h100">
                          <div class="checkbox-success-container pt8">
                            <ul>
                              @for (item of investorParams .pentInvestorPermitApplication
                              .pentInvestorPermitApplicationPrimaryApplicantDetail.plstentInvestorPermitApplicationCharacterDeclaration;
                              track $index) {
                              <li>
                                <div class="checkbox-success">
                                  <app-check-box type="horCheckWithoutError" [label]="item.declaration"
                                    [objArray]="[{label: 'Yes', trueValue: 'Y', falseValue: ''}, {label: 'No', trueValue: 'N', falseValue: ''}]"
                                    [(ngModel)]="item.isChecked" [btnClicked]="true"
                                    name="isCheckedD{{$index}}"></app-check-box>
                                </div>
                              </li>
                              }
                            </ul>
                          </div>
                          <div class="pt8 pb8">
                            <app-input-control label="Comments" designType="textarea" [maxCharacterLength]="true"
                              [maxLength]="appSetting.environment.wordLimits"
                              [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.ientInvestorPermitApplicationDeclarationComment.comments"
                              name="comments" [btnClicked]="true" [noEmoji]="true"
                              className="textarea"></app-input-control>
                          </div>
                        </div>
                      </div>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
  
              <app-tab-vertical tabTitle="Applicant Declaration">
                <div class="vertical-bg v-flex h100 pb8">
                  <!-- @if(investorParams.permitTypeValue === "WPLT1" || investorParams.permitTypeValue === "OSEAS" || investorParams.permitTypeValue === "WP3YA"){ -->
                  <row>
                    <div class="col-md-4">
                      <app-label type="verticalText" header="Applicant Name" value="{{
                                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.givenNames + ' '+ investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.surname
                                          }}"></app-label>
                    </div>
                  </row>
                  <!-- } -->
                  <div class="flex-1 relative ">
                    <scroll>
                      <div class="checkbox-success-container p-0">
                        <ul>
                          @for (item of investorParams.pentInvestorPermitApplication
                          .pentInvestorPermitApplicationPrimaryApplicantDetail.plstentInvestorPermitApplicationDeclaration;
                          track $index) {
                          <li>
                            <div class="cusmat-checkbox-1">
                              <app-check-box [objArray]="[{label: item.declaration, trueValue: 'Y', falseValue: 'N'}]"
                                [(ngModel)]="item.isChecked" name="isChecked{{$index}}"
                                [btnClicked]="true"></app-check-box>
                            </div>
                          </li>
                          }
                        </ul>
                      </div>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
  
  
              @if(investorParams.applicationTypeValue !== 'BALAN') {
              <app-tab-vertical tabTitle="Applicant Document">
                <div class="vertical-bg v-flex h100">
                  <div class="flex-1 relative">
                    <scroll>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">Document Type</th>
                            <th class="app-table-header-cell">Document No</th>
                            <th class="app-table-header-cell">
                              File Name
                              <div class="header-cell-subtitle pt8">
                                File Size
                              </div>
                            </th>
                            <th class="app-table-header-cell">
                              Uploaded Date/Time
                              <div class="header-cell-subtitle pt8">
                                Days To Expiry
                              </div>
                            </th>
                            <th class="app-table-header-cell">
                              Status
                              <div class="header-cell-subtitle pt8">
                                Changed By
                              </div>
                            </th>
                            <th class="app-table-header-cell">Action</th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(documentsDetail of
                          investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentInvestorPermitApplicationDocuments;
                          track documentsDetail; let i = $index)
                          {
                          @for(item of
                          documentsDetail.plstentInvestorPermitApplicationDocumentsDetail;
                          track $index){
                          <tr class="app-table-row">
                            <td class="cell-content">
                              {{ documentsDetail.documentTypeDescription }}
                            </td>
                            <td class="cell-content">
                              {{ item.documentRefNo }}
                            </td>
                            <td class="cell-content">
                              {{ item.pentDocumentFile.documentFileName }}
                              <div class="table-cell-subtitle pt8">
                                {{
                                item.pentDocumentFile.documentSize | byteToMb
                                }}
                              </div>
                            </td>
                            <td class="cell-content">
                              {{ item.createdDate | appDate : "datetime" }}
                              <div class="table-cell-subtitle pt8">
                                {{ item.strExpiryComment }}
                                @if(item.expiryDate){ ({{
                                item.expiryDate | appDate
                                }}) }
                              </div>
                            </td>
                            <td class="cell-content">
                              {{ item.documentStatusDescription }}
                              <div class="table-cell-subtitle pt8">
                                {{ item.changedByFullName }}
                              </div>
                            </td>
                            <td class="cell-content">
                              <div class="vw-action" (click)="viewDocument(item, i, 'applicant')" [appButtonAccess]="detailConfig?.docViewBtn">
                                <span>View</span>
                              </div>
                            </td>
                          </tr>
                          } }
                        </tbody>
                      </table>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
              }
  
              <app-tab-vertical tabTitle="Dependent">
                <div class="vertical-bg v-flex h100">
                  <div class="flex-1 relative h100">
                    <scroll>
  
  
                      <row>
                        @if(investorParams.statusValue !== 'APINP') {
                        <div class="col-md-12 ">
                          <app-check-box type="horDisabledValueLeft"
                            label="Is Family Member also included in this Application?" [(ngModel)]="isFamilyIncluded"
                            name="isFamilyIncluded" [objArray]="[
                                                { label: 'Yes', trueValue: 'Y', falseValue: '' },
                                                { label: 'No', trueValue: 'N', falseValue: '' }
                                              ]" [btnClicked]="true">
                          </app-check-box>
                        </div>
  
                        <div class="col-md-12 p-0">
                          <div class="d-flex notes-border-bottom">
                            @for(items of
                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentInvestorPermitApplicationPrimaryApplicantDependentsDetail;
                            track items; let i = $index){
                            <div class="tab-lst p8" [ngClass]="{'tabActive-lst':
                                                    items.investorPermitApplicationPrimaryApplicantDependentsDetailId ===
                                                    dependentType
                                                }" (click)="dependantTabChanged(items, i)">
                              {{ items.givenNames }} {{ items.surname }}
                            </div>
                            }
                          </div>
                        </div>
                        @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentInvestorPermitApplicationPrimaryApplicantDependentsDetail.length > 0){
                          <div class="col-md-6">
                            <app-label type="verticalText" header="Existing Permit Number" value="{{
                              dependentDocDetail.exisitingPermitNumber
                            }}"></app-label>
                          </div>
                          <table class="specific_table">
                            <thead class="app-table-header">
                              <tr class="app-table-header-row">
    
                                <th class="app-table-header-cell">
                                  <div class="table-flex pb8">
                                    <span>Full Name</span>
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Gender</span>
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Date of Birth</span>
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Passport No</span>
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Date of Issue</span>
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Date of Expiry</span>
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Country of Passport</span>
                                  </div>
                                </th>
                                @if(dependentDocDetail.countryOfPassportValue ===
                                'OTHER') {
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Other Country of Passport</span>
                                  </div>
                                </th>
                                }
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Relationship</span>
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  <div class="table-flex">
                                    <span>Is the dependent qualified</span>
                                  </div>
                                </th>
                              </tr>
                            </thead>
                            <tbody class="app-table-body">
                              <!-- @for(item of ) -->
                              <tr class="app-table-row">
    
                                <td class="cell-content">
                                  <!-- <app-input-copntrol [(ngModel)]="dependentDocDetail.dateOfBirth" name="dateOfBirth"
                                                          type="date"></app-input-copntrol> -->
                                  <!-- {{dependentDocDetail.ful}} -->
                                  {{ dependentDocDetail.givenNames }}
                                  {{ dependentDocDetail.surname }}
                                </td>
                                <td class="cell-content">
                                  <!-- <app-input-copntrol [(ngModel)]="dependentDocDetail.genderDescription"
                                                          name="genderDescription" type="input"></app-input-copntrol> -->
                                  {{ dependentDocDetail.genderDescription }}
                                </td>
                                <td class="cell-content">
                                  <!-- <app-input-copntrol [(ngModel)]="dependentDocDetail.dateOfBirth" name="dateOfBirth"
                                                          type="date"></app-input-copntrol> -->
                                  {{ dependentDocDetail.dateOfBirth | appDate}}
                                </td>
                                <td class="cell-content">
                                  <!-- <app-input-copntrol [(ngModel)]="dependentDocDetail.passportNumber"
                                                          name="passportNumber" type="number"></app-input-copntrol> -->
                                  {{ dependentDocDetail.passportNumber }}
                                </td>
                                <td class="cell-content">
                                  {{ dependentDocDetail.dateOfIssue | appDate}}
                                </td>
                                <td class="cell-content">
                                  {{ dependentDocDetail.dateOfExpiry | appDate}}
                                </td>
                                <td class="cell-content">
                                  {{ dependentDocDetail.countryOfPassportDescription }}
                                </td>
                                @if(dependentDocDetail.countryOfPassportValue === 'OTHER'){
                                <td class="cell-content">
                                  {{ dependentDocDetail.otherCountryOfPassport }}
                                </td>
                                }
    
                                <td class="cell-content">
                                  {{ dependentDocDetail.relationshipDescription }}
                                </td>
                                <td class="cell-content">
                                  @if(dependentDocDetail.isQualified === 'Y') {
                                  Yes
                                  }
                                  @if(dependentDocDetail.isQualified === 'N') {
                                  No
                                  }
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        }
                        }
                        @if(investorParams.statusValue === 'APINP') {
                        <form #d="ngForm"
                          (ngSubmit)="saveInvestorPermitApplicationPrimaryApplicantDependentsDetail(dependentDocDetail,d)">
                          <div class="col-md-12 pb16 end" [appButtonAccess]="detailConfig?.dependantSaveBtn">
                            <button class="home-btn-primary" appButton="Save"></button>
                          </div>
                          <!-- } -->
                          <div class="col-md-12 align-left p-0">
                            <app-check-box type="horCheck" label="Is Family Member also included in this Application?"
                              [(ngModel)]="isFamilyIncluded" name="isFamilyIncluded" [objArray]="[
                                                        { label: 'Yes', trueValue: 'Y', falseValue: '' },
                                                        { label: 'No', trueValue: 'N', falseValue: '' }
                                                      ]" [btnClicked]="true">
                            </app-check-box>
                          </div>
                          @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentInvestorPermitApplicationPrimaryApplicantDependentsDetail.length > 0){
                            <div class="col-md-12 p-0">
                              <div class="d-flex notes-border-bottom">
                                @for(items of
                                investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentInvestorPermitApplicationPrimaryApplicantDependentsDetail;
                                track items; let i = $index){
                                <div class="tab-lst p8" [ngClass]="{'tabActive-lst':
                                                        items.investorPermitApplicationPrimaryApplicantDependentsDetailId ===
                                                        dependentType
                                                    }" (click)="dependantTabChanged(items, i)">
                                  {{ items.givenNames }} {{ items.surname }}
                                </div>
                                }
                              </div>
                            </div>
    
    
                           
    
                            <row className="pt16">
                              @if(investorParams.applicationTypeValue === 'EXTEN' || investorParams.applicationTypeValue ===
                              'BALAN') {
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="text" label="Existing Permit Number"
                                  [(ngModel)]="dependentDocDetail.exisitingPermitNumber" [required]="true"
                                  [errorTrue]="errorTrue" name="existingPermitNumber" [oldValue]="dependent?.exisiting_permit_number"></app-input-control>
                              </div>
                              }
                              <div class="col-md-4">
                                <app-check-box type="" label="Is the dependent qualified?"
                                  [(ngModel)]="dependentDocDetail.isQualified" name="isQualified" [objArray]="[{ label: 'Yes', trueValue: 'Y', falseValue: '' },
                              { label: 'No', trueValue: 'N', falseValue: '' }]">
                                </app-check-box>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="text" label="Given Name" [required]="true"
                                  [errorTrue]="errorTrue" [(ngModel)]="dependentDocDetail.givenNames"
                                  name="givenNames12" [oldValue]="dependent?.given_names"></app-input-control>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="text" label="Surname" [required]="true"
                                  [errorTrue]="errorTrue" [(ngModel)]="dependentDocDetail.surname"
                                  name="surname13" [oldValue]="dependent?.surname"></app-input-control>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="date" label="Date of Birth"
                                  [required]="true" [errorTrue]="errorTrue" [maxDate]="appService.getCurrentDate()"
                                  [(ngModel)]="dependentDocDetail.dateOfBirth" name="dateOfBirth124" [oldValue]="dependent?.date_of_birth"></app-input-control>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="select" label="Gender" [required]="true"
                                  [errorTrue]="errorTrue" [items]="initialData.DDLValues.DDLGender" key="constant"
                                  keyName="description" [(ngModel)]="dependentDocDetail.genderValue"
                                  name="genderValuefhdgs" [oldValueDescription]="dependent?.gender_description" [oldValue]="dependent?.gender_value">
                                </app-input-control>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="text" label="Passport Number"
                                  [required]="true" [errorTrue]="errorTrue" [(ngModel)]="dependentDocDetail.passportNumber"
                                  name="passportNumber23" [oldValue]="dependent?.passport_number"></app-input-control>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="date" label="Date of Issue"
                                  [required]="true" [errorTrue]="errorTrue" [(ngModel)]="dependentDocDetail.dateOfIssue"
                                  [maxDate]="appService.getCurrentDate()" name="dateOfIssue8" [oldValue]="dependent?.date_of_issue"></app-input-control>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="date" label="Date of Expiry"
                                  [required]="true" [errorTrue]="errorTrue" [(ngModel)]="dependentDocDetail.dateOfExpiry"
                                  [minDate]="appService.getCurrentDate()"
                                  [addMaxMonth]="appSetting.environment.passportDateValidateMonth" [isFuture]="true"
                                  name="dateOfExpiry23" [oldValue]="dependent?.date_of_expiry"></app-input-control>
                              </div>
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="select" label="Country of Passport"
                                  [items]="initialData.DDLValues.DDLNationality" key="constant" keyName="description"
                                  [required]="true" [errorTrue]="errorTrue"
                                  [(ngModel)]="dependentDocDetail.countryOfPassportValue"
                                  name="countryOfPassportValue3467" [oldValueDescription]="dependent?.country_of_passport_description"  [oldValue]="dependent?.country_of_passport_value">
                                </app-input-control>
                              </div>
                              @if(dependentDocDetail.countryOfPassportValue ===
                              'OTHER') {
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="text" label="Other Country of Passport"
                                  [required]="true" [errorTrue]="errorTrue"
                                  [(ngModel)]="dependentDocDetail.otherCountryOfPassport"
                                  name="otherCountryOfPassport76" [oldValueDescription]="dependent?.other_country_of_passport"></app-input-control>
                              </div>
                              }
                              <div class="col-md-4">
                                <app-input-control className="white-input" type="select" label="Relationship"
                                  [required]="true" [errorTrue]="errorTrue" [items]="initialData.DDLValues.DDLRelationship"
                                  key="constant" keyName="description" [(ngModel)]="dependentDocDetail.relationshipValue"
                                  name="relationshipValue847" [oldValueDescription]="dependent?.relationship_description" [oldValue]="dependent?.relationship_value">
                                </app-input-control>
                              </div>
                            </row>
                          }
                        
                        </form>
                        }
                      </row>
                      <!-- <div class="col-md-12 h100"> -->
  
                      <!-- </div> -->
                      <row className="pt16">
                        <div class="col-md-12 p-0">
                          <div class="lg-label-header dark-lb text-hl pb8">
                            Dependent Character Declaration
                          </div>
                        </div>
                      </row>
                      <div class="checkbox-success-container pt8">
                        <ul>
                          @for (item of
                          dependentDocDetail.plstentInvestorPermitApplicationCharacterDeclaration;
                          track $index) {
                          <li>
                            <div class="checkbox-success">
                              <app-check-box type="horCheckWithoutError" [label]="item.declaration"
                                [objArray]="[{label: 'Yes', trueValue: 'Y', falseValue: ''}, {label: 'No', trueValue: 'N', falseValue: ''}]"
                                [(ngModel)]="item.isChecked" [btnClicked]="true"
                                name="isCheckedD{{$index}}"></app-check-box>
                            </div>
                          </li>
                          }
                        </ul>
                      </div>
                      <div class="px-2 w100">
                        <app-input-control designType="textarea" [maxCharacterLength]="true"
                          [maxLength]="appSetting.environment.wordLimits" label="Comments"
                          [(ngModel)]="dependentDocDetail.ientInvestorPermitApplicationDependentCharactorDeclarationComment.comments"
                          name="comments" [btnClicked]="true" [noEmoji]="true" className="textarea">
                        </app-input-control>
                      </div>
                      @if(dependentDocDetail.plstentInvestorPermitApplicationDocuments.length > 0){
                        <div class="v-flex h100">
                          <row className="pt16 ">
                            <div class="col-md-2 p-0">
                              <div class="lg-label-header dark-lb text-hl pb8">
                                Dependent Document
                              </div>
                            </div>
                          </row>
                          <!-- <div class="flex-1 relative h100">
                                              <scroll> -->
                          <table class="application-table pb8">
                            <thead class="app-table-header">
                              <tr class="app-table-header-row">
                                <th class="app-table-header-cell">Document Type</th>
                                <th class="app-table-header-cell">Document No</th>
                                <th class="app-table-header-cell">
                                  File Name
                                  <div class="header-cell-subtitle pt8">
                                    File Size
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  Uploaded Date/Time
                                  <div class="header-cell-subtitle pt8">
                                    Days To Expiry
                                  </div>
                                </th>
                                <th class="app-table-header-cell">
                                  Status
                                  <div class="header-cell-subtitle pt8">
                                    Changed By
                                  </div>
                                </th>
                                <th class="app-table-header-cell">Action</th>
                              </tr>
                            </thead>
                            <tbody class="app-table-body">
                              @for(documents of
                              dependentDocDetail.plstentInvestorPermitApplicationDocuments;
                              track documents; let j = $index ){
                              <!-- @for(documentDetail of documents.plstentWorkPermitApplicationDocuments; track $index){ -->
                              @for(item of
                              documents.plstentInvestorPermitApplicationDocumentsDetail;
                              track $index){
                              <tr class="app-table-row">
                                <td class="cell-content">
                                  {{ documents.documentTypeDescription }}
                                </td>
                                <td class="cell-content">
                                  {{ item.documentRefNo }}
                                </td>
                                <td class="cell-content">
                                  {{ item.pentDocumentFile.documentFileName }}
                                  <div class="table-cell-subtitle pt8">
                                    {{
                                    item.pentDocumentFile.documentSize | byteToMb
                                    }}
                                  </div>
                                </td>
                                <td class="cell-content">
                                  {{ item.createdDate | appDate : "datetime" }}
                                  <div class="table-cell-subtitle pt8">
                                    {{ item.strExpiryComment }}
                                    @if(item.expiryDate){
                                    ({{
                                    item.expiryDate | appDate
                                    }})
                                    }
                                  </div>
                                </td>
                                <td class="cell-content">
                                  {{ item.documentStatusDescription }}
                                  <div class="table-cell-subtitle pt8">
                                    {{item.changedByFullName}}
                                  </div>
                                </td>
                                <td class="cell-content">
                                  <div class="vw-action" (click)="viewDependentDocument(item, j)" [appButtonAccess]="detailConfig?.docViewBtn">
                                    <span>View</span>
                                  </div>
                                </td>
                              </tr>
                              } }
                              <!-- } -->
                            </tbody>
                          </table>
                          <!-- </scroll>
                                            </div> -->
                        </div>
                      }

                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
  
              <app-tab-vertical tabTitle="Company">
                <div class="v-flex h100">
                  <div class="flex-1 relative">
                    <scroll>
                      <div class="vertical-bg">
                        <row>
                          <div class="col-md-2">
                            <div class="lg-label-header dark-lb pb8">
                              Company Details
                            </div>
                            <div class="text-gray-border-bottom-1"></div>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Business Name" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.organizationName
                                                }}"></app-label>
                          </div>
                          <div class="col-md-4 ">
                            <div class="home-address-container p-1">
                              <div class="home-address-header">
                                Company Address
                              </div>
                              <div class="home-address-content">
                                {{
                                investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentInvestorPermitApplicationCompanyDetail.ientCompanyAddress.line1
                                }},
                                {{
                                investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentInvestorPermitApplicationCompanyDetail.ientCompanyAddress.line2
                                }},
                                {{
                                investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentInvestorPermitApplicationCompanyDetail.ientCompanyAddress.line3
                                }}
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication.
                                pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentInvestorPermitApplicationCompanyDetail.ientCompanyAddress.cityTown
                                }}
  
                                <br />
                                {{
                                investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentInvestorPermitApplicationCompanyDetail.ientCompanyAddress.provinceState
                                }}
                                <br />
                                {{investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                pentInvestorPermitApplicationCompanyDetail.ientCompanyAddress.countryDescription}}
                              </div>
                            </div>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Contact No" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.mobileNo
                                                }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Email Id" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.emailId
                                                }}"></app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Position in the company" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.positionInCompany
                                                }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Date Of Commencement of Business" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.commencementDate
                                                }}"></app-label>
                          </div>
                        </row>
                        <!-- <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Date Of Commencement of Business" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.commencementDate
                                                }}"></app-label>
                          </div>
                        </row> -->
                        <row>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Type of Business" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.typeOfBusinessDescription
                                                }}"></app-label>
                          </div>
                          <div class="col-md-4">
                            <app-label type="verticalText" header="Nature of Business" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.industryTypeDescription
                                                }}"></app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-10">
                            <app-label type="verticalText" header="Nature of Business in Detail" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.typeOfBusinessDetails
                                                }}"></app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-10">
                            <app-label type="verticalText" header="Duties of the Position" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.dutiesOfPosition
                                                }}"></app-label>
                          </div>
                        </row>
                        <row>
                          <div class="col-md-10">
                            <app-label type="verticalText" header="Years of Investment Experience" value="{{
                                                  investorParams.pentInvestorPermitApplication.
                                                  pentInvestorPermitApplicationPrimaryApplicantDetail.
                                                  pentInvestorPermitApplicationCompanyDetail.yearsOfInvestmentExperience
                                                }}"></app-label>
                          </div>
                        </row>
  
                        @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationCompanyDetail.plstentInvestorPermitApplicationInvestmentThreshold.length
                        > 0){
                        <div class="border-dashed mt16 mb16 col-md-12"></div>
                        <div class="col-md-11">
                          <div class="hor-input-label text-align-start">
                            Investment threshold:
                          </div>
                        </div>
                        <div class="col-md-12 mb16">
                          <table class="application-table">
                            <thead class="app-table-header">
                              <tr class="app-table-header-row">
                                <th class="app-table-header-cell">Investment Amount</th>
                                <th class="app-table-header-cell">Project Return on Investment</th>
                                <th class="app-table-header-cell">Business Expansion Plan</th>
                              </tr>
                            </thead>
                            <tbody class="app-table-body">
                              @for (item of
                              investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationCompanyDetail.plstentInvestorPermitApplicationInvestmentThreshold;
                              track $index) {
                              <tr class="app-table-row">
                                <td class="cell-content text-center">
                                  {{ item.investmentAmount }}
                                </td>
                                <td class="cell-content text-center">
                                  {{ item.projectedReturnOfInvestment }}
                                </td>
                                <td class="cell-content">
                                  {{item.businessExpansionPlan}}
                                </td>
                              </tr>
                              }
                            </tbody>
                          </table>
                        </div>
                        }
  
                        @if(investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationCompanyDetail.plstentInvestorPermitApplicationEmployedPersonDetail.length
                        > 0){
                        <div class="border-dashed mt16 mb16 col-md-12"></div>
                        <div class="col-md-11">
                          <div class="hor-input-label text-align-start">
                            Number of local/expatriate persons employed/to be employed and their positions in
                            the organization.
                          </div>
                        </div>
                        <div class="col-md-12 mb16">
                          <table class="application-table">
                            <thead class="app-table-header">
                              <tr class="app-table-header-row">
                                <th class="app-table-header-cell">Name</th>
                                <th class="app-table-header-cell">
                                  Position
                                </th>
                                <th class="app-table-header-cell">Local</th>
                                <th class="app-table-header-cell">Expatriate</th>
                              </tr>
                            </thead>
                            <tbody class="app-table-body">
                              @for (item of
                              investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationCompanyDetail.plstentInvestorPermitApplicationEmployedPersonDetail;
                              track $index) {
                              <tr class="app-table-row">
                                <td class="cell-content">
                                  {{ item.employedPersonName }}
                                </td>
                                <td class="cell-content">
                                  {{ item.employedPersonPosition }}
                                </td>
                                <td class="cell-content">
                                  <app-check-box [objArray]="[{label: '', trueValue: 'Y', falseValue: 'N'}]"
                                    [(ngModel)]="item.isLocal" name="isLocal{{$index}}"
                                    [btnClicked]="true"></app-check-box>
                                </td>
                                <td class="cell-content">
                                  <app-check-box [objArray]="[{label: '', trueValue: 'Y', falseValue: 'N'}]"
                                    [(ngModel)]="item.isExpatriate" name="isExpatriate{{$index}}" [btnClicked]="true">
                                  </app-check-box>
                                </td>
                              </tr>
                              }
                            </tbody>
                          </table>
                        </div>
                        }
                        @if(investorParams.pentInvestorPermitApplication.
                        pentInvestorPermitApplicationPrimaryApplicantDetail.
                        plstentInvestorPermitApplicationShareHoldingStructureDetail.length > 0){
                        <div class="border-dashed mt16 mb16 col-md-12"></div>
                        <div class="col-md-11">
                          <div class="hor-input-label text-align-start">
                            Shareholding Structure:
                          </div>
                        </div>
                        <div class="col-md-12 mb16">
                          <table class="application-table">
                            <thead class="app-table-header">
                              <tr class="app-table-header-row">
                                <th class="app-table-header-cell">Name</th>
                                <th class="app-table-header-cell">
                                  Voting Rights (%)
                                </th>
                                <th class="app-table-header-cell">Shareholding (%)</th>
                                <th class="app-table-header-cell">Monetary Value (FJD)</th>
                              </tr>
                            </thead>
                            <tbody class="app-table-body">
                              @for (item of investorParams.pentInvestorPermitApplication.
                              pentInvestorPermitApplicationPrimaryApplicantDetail.
                              plstentInvestorPermitApplicationShareHoldingStructureDetail;
                              track $index) {
                              <tr class="app-table-row">
                                <td class="cell-content">
                                  {{ item.name }}
                                </td>
                                <td class="cell-content ">
                                  {{ item.voutingRights }}
                                </td>
                                <td class="cell-content">
                                  {{item.shareHoldingPercentage}}
                                </td>
                                <td class="cell-content">
                                  {{item.monetaryValue}}
                                </td>
                              </tr>
                              }
                            </tbody>
                          </table>
                        </div>
                        }
                      </div>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
  
              <app-tab-vertical tabTitle="Company Document">
                <div class="vertical-bg h100">
                  <div class="flex-1 relative h100">
                    <scroll>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">Document Type</th>
                            <th class="app-table-header-cell">Document No</th>
                            <th class="app-table-header-cell">
                              File Name
                              <div class="header-cell-subtitle pt8">
                                File Size
                              </div>
                            </th>
                            <th class="app-table-header-cell">
                              Uploaded Date/Time
                              <div class="header-cell-subtitle pt8">
                                Days To Expiry
                              </div>
                            </th>
                            <th class="app-table-header-cell">
                              Status
                              <div class="header-cell-subtitle pt8">
                                Changed By
                              </div>
                            </th>
                            <th class="app-table-header-cell">Action</th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(documentsDetail of
                          investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                          pentInvestorPermitApplicationCompanyDetail.plstentInvestorPermitApplicationDocuments;
                          track documentsDetail; let i = $index ){
                          @for(item of documentsDetail.plstentInvestorPermitApplicationDocumentsDetail;
                          track $index){
                          <tr class="app-table-row">
                            <td class="cell-content">
                              {{ documentsDetail.documentTypeDescription }}
                            </td>
                            <td class="cell-content">
                              {{ item.documentRefNo }}
                            </td>
                            <td class="cell-content">
                              {{ item.pentDocumentFile.documentFileName }}
                              <div class="table-cell-subtitle pt8">
                                {{
                                item.pentDocumentFile.documentSize | byteToMb
                                }}
                              </div>
                            </td>
                            <td class="cell-content">
                              {{ item.createdDate | appDate : "datetime" }}
                              <div class="table-cell-subtitle pt8">
                                {{ item.strExpiryComment }}
                                @if(item.expiryDate){
                                ({{
                                item.expiryDate | appDate
                                }})
                                }
                              </div>
                            </td>
                            <td class="cell-content">
                              {{ item.documentStatusDescription }}
                              <div class="table-cell-subtitle pt8">
                                {{item.changedByFullName}}
                              </div>
                            </td>
                            <td class="cell-content">
                              <div class="vw-action" (click)="viewDocument(item, i, 'employer')" [appButtonAccess]="detailConfig?.docViewBtn">
                                <span>View</span>
                              </div>
                            </td>
                          </tr>
                          } }
                        </tbody>
                      </table>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
  
              <app-tab-vertical tabTitle="Assisting Person Declaration">
                <div class="vertical-bg v-flex h100 pb8">
                  <!-- @if(investorParams.permitTypeValue === "WPLT1" || investorParams.permitTypeValue === "OSEAS" || investorParams.permitTypeValue === "WP3YA"){ -->
                  <row>
                    <div class="col-md-3">
                      <div class="lg-label-header dark-lb pb8">
                        Assisting Person Declaration
                      </div>
                      <div class="text-gray-border-bottom-1"></div>
                    </div>
                  </row>
  
                  <row>
                    <div class="col-md-12 pl16">
                      <div class="d-flex align-center gap16">
                        <div class="check-label-ass pr18">Application filled by</div>
                        <app-check-box [objArray]="[{label: 'Self', trueValue: 'S' , falseValue: ''
                                        },{label: 'Assisted By Someone', trueValue: 'A' ,
                                        falseValue: ''} ]"
                          [(ngModel)]="investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationAssistingPersonDetail.isFilledBy"
                          name="isFilledBy" [btnClicked]="true"></app-check-box>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <app-label type="verticalText" header="Assisting Person Name" value="{{
                        investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                        pentInvestorPermitApplicationAssistingPersonDetail.fullName
                      }}"></app-label>
                    </div>
                    <div class="col-md-4">
                      <app-label type="verticalText" header="Email Id" value="{{
                                            investorParams.pentInvestorPermitApplication.
                                            pentInvestorPermitApplicationPrimaryApplicantDetail.
                                            pentInvestorPermitApplicationAssistingPersonDetail.emailId
                                          }}"></app-label>
                    </div>
                    <div class="col-md-4">
                      <app-label type="verticalText" header="Contact No" value="{{
                                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.
                                            pentInvestorPermitApplicationAssistingPersonDetail.contactNumber
                                          }}">
                      </app-label>
                    </div>
                  </row>
                  <div class="flex-1 relative ">
                    <scroll>
                      <div class="checkbox-success-container p-0">
                        <ul>
                          @for (item of
                          investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.pentInvestorPermitApplicationAssistingPersonDetail.
                          plstentInvestorPermitApplicationAssistingPersonDeclaration;
                          track $index) {
                          <li>
                            <div class="cusmat-checkbox-1">
                              <app-check-box [objArray]="[{label: item.declaration, trueValue: 'Y', falseValue: 'N'}]"
                                [(ngModel)]="item.isChecked" name="isChecked{{$index}}"
                                [btnClicked]="true"></app-check-box>
                            </div>
                          </li>
                          }
                        </ul>
                      </div>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>

              <app-tab-vertical tabTitle="Additional Information">
                  <div class="vertical-bg v-flex h100 pb8">
                    <div class="flex-1 relative ">
                     <scroll>
                      <app-input-control designType="textarea" [maxCharacterLength]="true"
                      [maxLength]="appSetting.environment.wordLimits" className="textarea" label="Comments"
                      [btnClicked]="true" [(ngModel)]="investorParams.pentInvestorPermitApplication.comments" [noEmoji]="true"
                      name="comments2"></app-input-control>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">File Name</th>
                            <th class="app-table-header-cell">File Size</th>
                            <th class="app-table-header-cell">File Type</th>  
                            <th class="app-table-header-cell">
                              Status
                              <div class="header-cell-subtitle pt8">
                                Changed By
                              </div>
                            </th>
                            <th class="app-table-header-cell">Action</th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(uploadList of investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationDocuments.plstentInvestorPermitApplicationDocumentsDetail; track uploadList; let i = $index){
                          <tr class="app-table-row">
                            <td class="cell-content">
                              {{uploadList.pentDocumentFile.documentFileName}} 
                            </td>
                            <td class="cell-content">
                              {{uploadList.pentDocumentFile.documentSize | byteToMb}}
                            </td>
                            <td class="cell-content">
                              {{uploadList.pentDocumentFile.documentType}}
                            </td>
                            <td class="cell-content">
                              {{ uploadList.documentStatusDescription }}
                              <div class="table-cell-subtitle pt8">
                                {{ uploadList.changedByFullName }}
                              </div>
                            </td>
                            <td class="cell-content">
                              <div class="vw-action" (click)="viewDocument(uploadList, i, 'addInfo')" [appButtonAccess]="detailConfig?.docViewBtn">
                                <span>View</span>
                              </div>
                            </td>
                          </tr>
                          }
                        </tbody>
                      </table>
                      </scroll>
                    </div>
                  </div>
              </app-tab-vertical>

            </app-tab-group-vertical>
          </div>
        </app-tab>
        <!-- RECOMMENDATION -->
        <app-tab tabTitle="Recommendation">
          <app-investor-recommendation-tab [investorParams]="investorParams"
            (permitParent)="getParentData($event)"></app-investor-recommendation-tab>
        </app-tab>
        <app-tab tabTitle="Border Information">
          <div class="vertical-tabs v-flex h100">
            <app-tab-group-vertical class="tab-groups" (tabChange)="borderTabChange($event)">
              <app-tab-vertical tabTitle="Controversial">
                <!-- <div class="vertical-bg h100">
                    <div class="flex-1 relative h100">
                      <scroll>
                        <table class="application-table">
                          <thead class="app-table-header">
                            <tr class="app-table-header-row">
                              <th class="app-table-header-cell">
                                First Name
                                <div class="header-cell-subtitle pt8">
                                  Last Name
                                </div>
                              </th>
                              <th class="app-table-header-cell">Date of Birth</th>
                              <th class="app-table-header-cell">Parent Name</th>
                              <th class="app-table-header-cell">Passport No</th>
                              <th class="app-table-header-cell">Reason</th>
                              <th class="app-table-header-cell">
                                From Date
                                <div class="header-cell-subtitle pt8">To Date</div>
                              </th>
                            </tr>
                          </thead>
                          <tbody class="app-table-body">
                            @for(item of
                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentPrimaryApplicantCotraversialList;
                            track $index){
                            <tr class="app-table-row">
                              <td class="cell-content">
                                <div class="table-cell-subtitle pt8">
                                </div>
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                                <div class="table-cell-subtitle pt8">
                                </div>
                              </td>
                            </tr>
                            }
                          </tbody>
                        </table>
                      </scroll>
                    </div>
                  </div> -->
              </app-tab-vertical>
              <app-tab-vertical tabTitle="Travel History">
                <!-- <div class="vertical-bg h100">
                    <div class="flex-1 relative h100">
                      <scroll>
                        <table class="application-table">
                          <thead class="app-table-header">
                            <tr class="app-table-header-row">
                              <th class="app-table-header-cell">Passport No</th>
                              <th class="app-table-header-cell">Nationality</th>
                              <th class="app-table-header-cell">Entry Date</th>
                              <th class="app-table-header-cell">Exit Date</th>
                            </tr>
                          </thead>
                          <tbody class="app-table-body">
                            @for(item of
                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentPrimaryApplicantTravelHitory;
                            track $index){
                            <tr class="app-table-row">
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                            </tr>
                            }
                          </tbody>
                        </table>
                      </scroll>
                    </div>
                  </div> -->
              </app-tab-vertical>
  
              <app-tab-vertical tabTitle="Permit Details">
                <div class="vertical-bg h100">
                  <div class="flex-1 relative h100">
                    <scroll>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">Permit No</th>
                            <th class="app-table-header-cell">Permit Type</th>
                            <th class="app-table-header-cell">Start Date</th>
                            <th class="app-table-header-cell">End Date</th>
                            <th class="app-table-header-cell">Permit Status</th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(item of permitLst; track $index){
                            <tr class="app-table-row">
                              <td class="cell-content">
                                {{ item.permitno }}
                              </td>
                              <td class="cell-content">
                                {{ item.permittype }}
                              </td>
                              <td class="cell-content">
                                {{ item.startdate | appDate }}
                              </td>
                              <td class="cell-content">
                                {{ item.enddate | appDate }}
                              </td>
                              <td class="cell-content">
                                {{ item.permitstatus }}
                              </td>
                            </tr>
                          }
                        </tbody>
                      </table>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
              
              <app-tab-vertical tabTitle="Passport List">
                <div class="vertical-bg h100">
                  <div class="flex-1 relative h100">
                    <scroll>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">Passport No</th>
                            <th class="app-table-header-cell">Date of Issue</th>
                            <th class="app-table-header-cell">Place of Issue</th>
                            <th class="app-table-header-cell">Nationality</th>
                            <th class="app-table-header-cell">
                              Valid From
                            </th>
                            <th class="app-table-header-cell">
                              Valid To
                            </th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(item of passPortLst; track $index){
                            <tr class="app-table-row">
                              <td class="cell-content">
                                {{ item.passportNo }}
                              </td>
                              <td class="cell-content">
                                {{ item.dateofIssue }}
                              </td>
                              <td class="cell-content">
                                {{ item.placeofIssue }}
                              </td>
                              <td class="cell-content">
                                {{ item.nationality }}
                              </td>
                              <td class="cell-content">
                                {{ item.validFrom | appDate }}
                              </td>
                              <td class="cell-content">
                                {{ item.validTo | appDate }}
                              </td>
                            </tr>
                          }
                        </tbody>
                      </table>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
  <!-- 
              <app-tab-vertical tabTitle="uplift of PI Status">
                <div class="vertical-bg h100">
                    <div class="flex-1 relative h100">
                      <scroll>
                        <table class="application-table">
                          <thead class="app-table-header">
                            <tr class="app-table-header-row">
                              <th class="app-table-header-cell">
                                First Name
                                <div class="header-cell-subtitle pt8">
                                  Last Name
                                </div>
                              </th>
                              <th class="app-table-header-cell">Date of Birth</th>
                              <th class="app-table-header-cell">Parent Name</th>
                              <th class="app-table-header-cell">Passport No</th>
                              <th class="app-table-header-cell">Reason</th>
                              <th class="app-table-header-cell">
                                From Date
                                <div class="header-cell-subtitle pt8">To Date</div>
                              </th>
                            </tr>
                          </thead>
                          <tbody class="app-table-body">
                            @for(item of
                            investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentPrimaryApplicantPIStatusList;
                            track $index){
                            <tr class="app-table-row">
                              <td class="cell-content">
                                <div class="table-cell-subtitle pt8">
                                </div>
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                              </td>
                              <td class="cell-content">
                                <div class="table-cell-subtitle pt8">
                                </div>
                              </td>
                            </tr>
                            }
                          </tbody>
                        </table>
                      </scroll>
                    </div>
                  </div>
              </app-tab-vertical> -->
  
              <!-- <app-tab-vertical tabTitle="DPO">
                <div class="vertical-bg h100">
                    <div class="vertical-bg h100">
                      <div class="flex-1 relative h100">
                        <scroll>
                          <table class="application-table">
                            <thead class="app-table-header">
                              <tr class="app-table-header-row">
                                <th class="app-table-header-cell">Passport No</th>
                                <th class="app-table-header-cell">Nationality</th>
                                <th class="app-table-header-cell">Entry Date</th>
                                <th class="app-table-header-cell">Exit Date</th>
                              </tr>
                            </thead>
                            <tbody class="app-table-body">
                              @for(item of
                              investorParams.pentInvestorPermitApplication.pentInvestorPermitApplicationPrimaryApplicantDetail.plstentPrimaryApplicantDPOList;
                              track $index){
                              <tr class="app-table-row">
                                <td class="cell-content">
                                </td>
                                <td class="cell-content">
                                </td>
                                <td class="cell-content">
                                </td>
                                <td class="cell-content">
                                </td>
                              </tr>
                              }
                            </tbody>
                          </table>
                        </scroll>
                      </div>
                    </div>
                  </div>
              </app-tab-vertical> -->
            </app-tab-group-vertical>
          </div>
        </app-tab>
        <app-tab tabTitle="History">
          <div class="vertical-tabs v-flex h100">
            <app-tab-group-vertical class="tab-groups">
              <app-tab-vertical tabTitle="Assigned Officer History">
                <div class="v-flex vertical-bg h100">
                  <div class="between pb16">
                    <div class="col-md-3">
                      <div class="labelHead pb8">Assigned Officer History</div>
                      <div class="text-gray-border-bottom-1"></div>
                    </div>
  
                    <div class="slot-center gap16">
                      @if(assignedOfficerHistory.isHigherOfficer === 'Y'){
                      <button class="home-btn-primary" appButton="Assign To" (click)="OpenAssignTo()" [appButtonAccess]="detailConfig?.assignToBtn"></button>
                      }
                      @if(investorParams.blnShowSelfAssignBtn === 'Y' && investorParams.statusValue !== 'APINP'){
                      <button class="home-btn-primary" appButton="Self Assign" (click)="selfAssign()" [appButtonAccess]="detailConfig?.selfAssignBtn"></button>
                      }
                    </div>
                    <!-- @if(assignedOfficerHistory.isHigherOfficer === 'Y'){
                    <div class="slot-center gap16">
                      <button class="home-btn-primary" appButton="Assign To" (click)="OpenAssignTo()"></button>
                    </div>
                    }
                    @if(investorParams.blnShowSelfAssignBtn === 'Y'){
                      <div class="slot-center gap16">
                        <button class="home-btn-primary" appButton="Self Assign" (click)="selfAssign()"></button>
                      </div>
                    } -->
                  </div>
                  <!-- <div class="p8"></div> -->
                  <div class="flex-1 relative h100">
                    <scroll>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">Assigned To</th>
                            <th class="app-table-header-cell">Assigned By</th>
                            <th class="app-table-header-cell">
                              Assigned Date / Time
                            </th>
                            <th class="app-table-header-cell">
                              <div class="text-center">Status</div>
                            </th>
                            <th class="app-table-header-cell">
                              Completed Turn Around Time
                            </th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(item of
                          investorParams.plstentPermitApplicationAssignedOfficerHistory;
                          track $index){
                          <tr class="app-table-row">
                            <td class="cell-content">
                              {{
                              item.assignedToFullName
                              ? item.assignedToFullName
                              : "-"
                              }}
                            </td>
                            <td class="cell-content">
                              {{
                              item.assignedByFullName
                              ? item.assignedByFullName
                              : "-"
                              }}
                            </td>
                            <td class="cell-content">
                              {{ item.assignedDate | appDate : "datetime" }}
                            </td>
                            <td class="cell-content">
                              <div class="text-center">
                                {{ item.statusDescription }}
                              </div>
                            </td>
                            <td class="cell-content">
                              {{ item.workedTatInDays | tat : 'day'}} {{item.workedTatInHours | tat : 'hr'}}
                              {{item.workedTatInMinutes | tat : "min"}}
                            </td>
                          </tr>
                          }
                        </tbody>
                      </table>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
              <app-tab-vertical tabTitle="Status History">
                <div class="vertical-bg v-flex h100">
                  <div class="col-md-2">
                    <div class="labelHead pb8">Status History</div>
                    <div class="text-gray-border-bottom-1"></div>
                  </div>
                  <div class="flex-1 relative h100">
                    <scroll>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">Status</th>
                            <th class="app-table-header-cell">Changed By</th>
                            <th class="app-table-header-cell">
                              Changed Date / Time
                            </th>
                            <th class="app-table-header-cell">
                              Total Turn Around Time
                            </th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(item of
                          investorParams.plstentPermitApplicationStatusHistory;
                          track $index){
                          <tr class="app-table-row">
                            <td class="cell-content">
                              {{ item.statusDescription }}
                            </td>
                            <td class="cell-content">
                              {{ item.changedByFullName }}
                            </td>
                            <td class="cell-content">
                              {{ item.changedDate | appDate : "datetime" }}
                            </td>
                            <td class="cell-content">
                              {{ item.workedTatInDays | tat : 'day'}} {{item.workedTatInHours | tat : 'hr'}}
                              {{item.workedTatInMinutes | tat : "min"}}
  
                            </td>
                          </tr>
                          }
                        </tbody>
                      </table>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
  
              <app-tab-vertical tabTitle="Communication History">
                <div class="vertical-bg v-flex h100">
                  <div class="col-md-2">
                    <div class="labelHead pb8">Email History</div>
                    <div class="text-gray-border-bottom-1"></div>
                  </div>
                  <div class="flex-1 relative h100">
                    <scroll>
                      <table class="application-table">
                        <thead class="app-table-header">
                          <tr class="app-table-header-row">
                            <th class="app-table-header-cell">From Email ID</th>
                            <th class="app-table-header-cell">To Email ID</th>
                            <th class="app-table-header-cell">Date Sent/Time</th>
                            <th class="app-table-header-cell">Email Status</th>
                            <th class="app-table-header-cell">Action</th>
                          </tr>
                        </thead>
                        <tbody class="app-table-body">
                          @for(item of
                          investorParams.plstentPermitApplicationEmailHistory; track
                          $index){
                          <tr class="app-table-row">
                            <td class="cell-content">
                              {{ item.pentCommunicationTracking.fromEmailId }}
                            </td>
                            <td class="cell-content">
                              {{ item.pentCommunicationTracking.toEmailId }}
                            </td>
                            <td class="cell-content">
                              {{
                              item.pentCommunicationTracking.sentDate
                              | appDate : "datetime"
                              }}
                            </td>
                            <td class="cell-content">
                              {{
                              item.pentCommunicationTracking
                              .sentStatusDescription
                              }}
                            </td>
                            <td class="cell-content">
                              <div class="eye-icon">
                                <ion-icon name="eye" (click)="openEmailHistory(item)">
                                </ion-icon>
                              </div>
                            </td>
                          </tr>
                          }
                        </tbody>
                      </table>
                    </scroll>
                  </div>
                </div>
              </app-tab-vertical>
            </app-tab-group-vertical>
          </div>
        </app-tab>
        <app-tab tabTitle="Previous Application">
          <div class="vertical-tabs v-flex h100">
            <div class="flex-1 relative h100">
              <scroll>
                <table class="application-table">
                  <thead class="app-table-header">
                    <tr class="app-table-header-row">
                      <th class="app-table-header-cell">Application No</th>
                      <th class="app-table-header-cell">Applied Date</th>
                      <th class="app-table-header-cell">Status</th>
                      <th class="app-table-header-cell">Final Decision Date</th>
                      <th class="app-table-header-cell">Decision Made By</th>
                    </tr>
                  </thead>
                  <tbody class="app-table-body">
                    @for(item of permitApplicationList; track $index){
                      <tr class="app-table-row">
                        <td class="cell-content">
                          {{ item.permitApplicationNo }}
                        </td>
                        <td class="cell-content">
                          {{ item.appliedDate }}
                        </td>
                        <td class="cell-content">
                          {{ item.statusDescription }}
                        </td> 
                        <td class="cell-content">
                          {{ item.assignedDate | appDate }}
                        </td>
                        <td class="cell-content">
                          {{ item.assignedByFullName}}
                        </td>
                     
                      </tr>
                    }
                  </tbody>
                </table>
              </scroll>
            </div>
          </div>
        </app-tab>
      </app-tab-group>
    </div>
  </scroll>
</div>

<ng-template #viewDocumentTemplate>
  <div class="v-flex relative h100 slide-template">
    <div class="slide-header header-padding between border-bottom-line m7px">
      <div class="slide-label">
        {{ permitDocDetail.pentDocumentFile.documentFileName }}
      </div>
      <div (click)="dialog.closeDialog()" class="cursor-pointer">
        <ion-icon name="close-circle"></ion-icon>
      </div>
    </div>
    <div class="flex-1">
      <div class="d-flex h100">
        <div class="document-chamber">
          <div class="view-doc">
            <div class="ab p16 justify-content-center">
              @if(docType === "application/pdf"){
              <object [data]="url | appSafe: 'resourceUrl'" type='application/pdf'></object>
              <!-- <object [data]="
                permitDocDetail.pentDocumentFile.fileContent
                  | appSafe : 'resourceUrl'
              " type="application/pdf"></object> -->
              } @else {
              <img class="doc-img-wd" [src]="url" />
              }
            </div>
          </div>
        </div>
        <div class="v-flex h100 w400px p-2">
          <div class="flex-1 relative w100">
            <div class="ab">
              <div class="rel">
                <form #l="ngForm" autocomplete="off" class="h100 pr10px">
                  <app-input-control designType="textarea" label="Comments" [(ngModel)]="permitDocDetail.comments"
                    name="comments" className="textarea1" [btnClicked]="investorParams.blnIsAssignedOfficer === 'N'"
                    [required]="true" [errorTrue]="errorTrue" [noEmoji]="true" [maxCharacterLength]="true"
                    [maxLength]="appSetting.environment.wordLimits">
                  </app-input-control>

                  @for(reason of permitDocDetail.plstentInvestorPermitApplicationDocumentDetailRejectionReason; track
                  $index){
                  <app-check-box [label]="reason.reasonDescription"
                    [objArray]="[{label: '', trueValue: 'Y', falseValue: 'N'}]" type="horValueDoc"
                    [btnClicked]="investorParams.blnIsAssignedOfficer === 'N'" [(ngModel)]="reason.isChecked"
                    name="isChecked{{$index}}" [required]="true" [errorTrue]="errorTrue">
                  </app-check-box>

                  @if(reason.reasonValue === 'OTHER' && reason.isChecked === 'Y'){
                  <div>
                    <app-input-control designType="textareaDoc" label="Other Reason" [(ngModel)]="reason.otherReason"
                      name="otherReason" className="textarea1"
                      [btnClicked]="investorParams.blnIsAssignedOfficer === 'N'" [required]="true"
                      [errorTrue]="errorTrue" [noEmoji]="true" [maxCharacterLength]="true"
                      [maxLength]="appSetting.environment.wordLimits">
                    </app-input-control>
                  </div>
                  }
                  }
                  <!-- </scroll>
                    </div>   -->
                </form>
              </div>
            </div>
          </div>
          <!-- <div class=" "> -->
          @if(investorParams.blnIsAssignedOfficer === 'Y' && (investorParams.recommendationValue === 'RAFVR' || investorParams.recommendationValue === 'VERIF')){
          <div class="doc-vw-cmt align-items-center gap10 pb8">
            <button class="btn-approve w100" appButton="Approve" (click)="savePermitDoc(l,'APPRV')" [appButtonAccess]="detailConfig?.docApprvBtn"></button>
            <button class="btn-reject pl2 w100" appButton="Reject" (click)="savePermitDoc(l,'REJEC')" [appButtonAccess]="detailConfig?.docRejBtn"></button>
          </div>
          }

          <!-- </div> -->
          <!-- </div> -->
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #viewDocumentDependentTemplate>
  <div class="v-flex relative h100 slide-template">
    <div class="slide-header header-padding between border-bottom-line m7px">
      <div class="slide-label">
        {{ permitDocDetail.pentDocumentFile.documentFileName }}
      </div>
      <div (click)="dialog.closeDialog()" class="cursor-pointer">
        <ion-icon name="close-circle"></ion-icon>
      </div>
    </div>
    <div class="flex-1">
      <div class="d-flex h100">
        <div class="document-chamber">
          <div class="view-doc">
            <div class="ab p16 justify-content-center">
              @if(docType === "application/pdf"){
              <object [data]="url | appSafe: 'resourceUrl'" type='application/pdf'></object>
              } @else {
              <img class="doc-img-wd" [src]="url" />
              }
            </div>
          </div>
        </div>
        <div class="v-flex h100 w400px p-2">
          <div class="flex-1 relative w100">
            <div class="ab">
              <div class="rel">
                <form #l="ngForm" autocomplete="off" class="h100 pr10px">
                  <app-input-control designType="textarea" label="Comments" [(ngModel)]="permitDocDetail.comments"
                    name="comments" className="textarea1" [btnClicked]="investorParams.blnIsAssignedOfficer === 'N'"
                    [required]="true" [errorTrue]="errorTrue" [noEmoji]="true" [maxCharacterLength]="true"
                    [maxLength]="appSetting.environment.wordLimits">
                  </app-input-control>

                  @for(reason of permitDocDetail.plstentInvestorPermitApplicationDocumentDetailRejectionReason; track
                  $index){
                  <app-check-box [label]="reason.reasonDescription"
                    [objArray]="[{label: '', trueValue: 'Y', falseValue: 'N'}]" type="horValueDoc"
                    [btnClicked]="investorParams.blnIsAssignedOfficer === 'N'" [(ngModel)]="reason.isChecked"
                    name="isChecked{{$index}}" [required]="true" [errorTrue]="errorTrue">
                  </app-check-box>

                  @if(reason.reasonValue === 'OTHER' && reason.isChecked === 'Y'){
                  <div>
                    <app-input-control designType="textareaDoc" label="Other Reason" [(ngModel)]="reason.otherReason"
                      name="otherReason" className="textarea1"
                      [btnClicked]="investorParams.blnIsAssignedOfficer === 'N'" [required]="true"
                      [errorTrue]="errorTrue" [noEmoji]="true" [maxCharacterLength]="true"
                      [maxLength]="appSetting.environment.wordLimits">
                    </app-input-control>
                  </div>
                  }
                  }
                  <!-- </scroll>
                    </div>   -->
                </form>
              </div>
            </div>
          </div>
          <!-- <div class=" "> -->
          @if(investorParams.blnIsAssignedOfficer === 'Y' && (investorParams.recommendationValue === 'RAFVR' || investorParams.recommendationValue === 'VERIF')){
          <div class="doc-vw-cmt align-items-center gap10 pb8">
            <button class="btn-approve w100" appButton="Approve" (click)="savePermitDependentDoc(l,'APPRV')" [appButtonAccess]="detailConfig?.docApprvBtn"></button>
            <button class="btn-reject pl2 w100" appButton="Reject" (click)="savePermitDependentDoc(l,'REJEC')" [appButtonAccess]="detailConfig?.docRejBtn"></button>
          </div>
          }

          <!-- </div> -->
          <!-- </div> -->
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #viewRequiredInfoDocumentTemplate>
  <div class="v-flex relative h100 slide-template">
    <div class="slide-header header-padding between border-bottom-line m7px">
      <div class="slide-label">
        {{ permitDocDetail.pentDocumentFile.documentFileName }}
      </div>
      <div (click)="dialog.closeDialog()" class="cursor-pointer">
        <ion-icon name="close-circle"></ion-icon>
      </div>
    </div>
    <div class="p16 h100">
      <div class="view-doc">
        <div class="ab p16">
          @if(docType === "application/pdf"){
          <object [data]="
                permitDocDetail.pentDocumentFile.fileContent
                  | appSafe : 'resourceUrl'
              " type="application/pdf"></object>
          } @else {
          <img class="doc-img-wd" [src]="permitDocDetail.pentDocumentFile.fileContent" />
          }
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #emailHistory>
  <div class="v-flex h100 slide-template">
    <div class="slide-header header-padding between border-bottom-line m7px">
      <div class="slide-label">Email History</div>
      <div (click)="dialogService.closeAll()" class="cursor-pointer">
        <ion-icon name="close-circle"></ion-icon>
      </div>
    </div>
    <div class="email-content pb0">
      <div class="d-flex p-1 between">
        <div class="url-link-noline">
          To:{{ permitEmailHistory.pentCommunicationTracking.toEmailId }}
        </div>
        <div class="text-gray">
          {{
          permitEmailHistory.pentCommunicationTracking.sentDate
          | appDate : "datetime"
          }}
        </div>
      </div>
      <div class="d-flex p-1 between">
        <div class="text-gray">
          From: {{ permitEmailHistory.pentCommunicationTracking.fromEmailId }}
        </div>
        @if(permitEmailHistory.pentCommunicationTracking.sentStatusDescription
        !== ''){
        <div class="mailstatusbox">
          {{
          permitEmailHistory.pentCommunicationTracking.sentStatusDescription
          }}
        </div>
        }
      </div>
      <div class="m7px border-bottom-line px-2"></div>
    </div>
    <div class="header-padding">
      <div class="text-gray mail-msg p-1">
        {{ permitEmailHistory.pentCommunicationTracking.mailContent }}
      </div>
    </div>
  </div>
</ng-template>

<ng-template #assignedToTemplate>
  <div class="v-flex relative h100 slide-template">
    <div class="slide-header header-padding between border-bottom-line m7px">
      <div class="slide-label">
        Application Assigned Officer
      </div>
      <div (click)="dialog.closeDialog()" class="cursor-pointer">
        <ion-icon name="close-circle"></ion-icon>
      </div>
    </div>
    <div class="v-flex p16 h100">
      <app-input-control label="Re Assign" [(ngModel)]="reAssignSearch" name="reAssignSearch"></app-input-control>
      <row>
        <div class="col-md-3">
          <div class="lg-label-header light-lb pb8">
            Users
          </div>
          <div class="text-gray-border-bottom-1"></div>
        </div>
      </row>
      <div class="flex-1 relative h100">
        <scroll>
          @for(user of assignedOfficerHistory.plstuserlist.ilstUser | filterAndSort : reAssignSearch : 'fullname' :
          false ;
          track $index){
          <div class="header-content mb8 pr8">
            <div class="ass-fnt">
              {{user.fullname}}
            </div>
            <div class="slot-center gap16">
              <button class="home-btn-primary" appButton="Assign" (click)="getAssigedOfficer(user)"></button>
            </div>
          </div>
          }
        </scroll>
      </div>
    </div>
  </div>
</ng-template>

<app-documents #DocumentsComponent class="none"></app-documents>

<ng-template #paymentDetail>
  <div class="v-flex h100 search-template">
    <div class="search-header end">
      <div (click)="dialogBox.closeAll(); this.popupFlag = false;" class="cursor-pointer">
        <ion-icon name="close-circle"></ion-icon>
      </div>
    </div>
    <div class="search-container">
      <div class="v-flex minH400">
        <div class="flex-1 relative">
          <scroll>
            @if(screenType === 'paymentDetail') {
            <div>
              <app-payment-detail [permitApplicationPayment]="investorParams"
                (valueChanged)="pageChanged($event, 'bankingDetail')"></app-payment-detail>
            </div>
            } @else if (screenType === 'bankingDetail') {
            <div>
              <app-banking-details [permitApplicationPayment]="paymentDetailsValues"
                (valueChanged)="pageChanged($event, 'offlinePayment')"></app-banking-details>
            </div>
            } @else if (screenType === 'offlinePayment') {
            <div>
              <app-offline-payment [permitApplicationPayment]="paymentDetailsValues"
                (valueChanged)="pageChanged($event, 'end')"></app-offline-payment>
            </div>
            }
          </scroll>
        </div>
      </div>
    </div>
  </div>
</ng-template>