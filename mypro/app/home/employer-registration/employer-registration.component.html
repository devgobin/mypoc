<div class="panel-spacer">
  <div class="mw1280">
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">Employer Registration</div>
      </div>
      <div class="panel-body">
        <ng-container *ngIf="!successTrue">
          <div class="h430">
            <app-stepper #employerregistrationSteps>
              <cdk-step label="Verification" [completed]="step1Completed">
                <div class="panel-step">
                  <form #a="ngForm" autocomplete="off" class="h100">
                    <div class="panel-stepper h100">
                      <div class="panel-stepper-body">
                        <div class="ab">
                          <div class="rel">
                            <div class="pt-4">
                              <div class="container-fluid">
                                <div class="row">
                                  <div class="col-md-9">
                                    <div class="row">
                                      <div class="col-md-12">
                                        <div class="row  mb-3">
                                          <div class="col-md-5 pr-0 nomar">
                                            <div class="label-center">
                                              <label>Select Business Type
                                                <span class="text-danger">*</span>
                                                :
                                              </label>
                                            </div>
                                          </div>
                                          <div class="col-md-5 pl-0 nomar">
                                            <app-select-control [(ngModel)]="
                                            employer.newEmployer
                                              .constitutionOfBusinessValue
                                          " name="constitutionOfBusinessValue" [items]="
                                            employer.initialData
                                              .ERBusinessType
                                          " key="constant" keyname="description" required mandatory="true" label=""
                                              [errorTrue]="employer.errorTrue" (onChanges)="
                                            OnChangeconstitutionOfBusinessValue(
                                              employer.newEmployer
                                                .constitutionOfBusinessValue
                                            )
                                          ">
                                            </app-select-control>
                                          </div>
                                        </div>
                                      </div>
                                      <ng-container *ngIf="
                                      employer.newEmployer
                                        .constitutionOfBusinessValue
                                         === 'OTHR'">
                                        <div class="col-md-12 ">
                                          <div class="row  mb-3 ">
                                            <div class="col-md-5 pr-0 nomar">
                                              <div class="label-center">
                                                <label>If Others (Please Specify)<span *ngIf="
                                                  employer.newEmployer
                                                    .constitutionOfBusinessValue ===
                                                  'OTHR'
                                                " class="text-danger">*</span>
                                                  :</label>
                                              </div>
                                              <!-- <label *ngIf = "employer.newEmployer.constitutionOfBusinessValue === 'OTHR'">If Others (Please
                                                                                                Specify) <span
                                                                                                class="text-danger">*</span>
                                                                                                :</label> -->
                                            </div>
                                            <div class="col-md-5 pl-0 nomar">
                                              <app-input-control [(ngModel)]="
                                                employer.newEmployer
                                                  .constitutionOfBusinessOtherDesc
                                              " name="constitutionOfBusinessOtherDesc" [required]="otherbusinesstype"
                                                mandatory="true" label="" [errorTrue]="
                                                employer.errorTrue &&
                                                otherbusinesstype
                                              ">
                                              </app-input-control>
                                            </div>
                                          </div>
                                        </div>
                                      </ng-container>
                                      <div class="col-md-12 ">
                                        <div class="row  mb-3">
                                          <div class="col-md-5 pr-0 nomar">
                                            <div class="label-center">
                                              <label>Business Trading Name
                                                <span class="text-danger">*</span>
                                                :</label>
                                            </div>
                                          </div>
                                          <div class="col-md-5 pl-0 nomar">
                                            <app-input-control [(ngModel)]="
                                                employer.newEmployer.tradeName
                                              " name="tradeName" required mandatory="true" label=""
                                              [errorTrue]="employer.errorTrue" emojiType="name" [upperCase]="true">
                                            </app-input-control>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="col-md-12 ">
                                        <div class="row  mb-3">
                                          <div class="col-md-5 pr-0 nomar">
                                            <div class="label-center">
                                              <label>Business Registration Number
                                                <span class="text-danger">*</span>
                                                :</label>
                                            </div>
                                          </div>
                                          <div class="col-md-5 pl-0 nomar">
                                            <app-input-control [(ngModel)]="
                                                employer.newEmployer
                                                  .businessRegistrationNo
                                              " name="businessRegistrationNo" required mandatory="true" label=""
                                              [errorTrue]="employer.errorTrue">
                                            </app-input-control>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="col-md-12">
                                        <div class="row mb-3">
                                          <div class="col-md-5 pr-0 nomar">
                                            <div class="label-center">
                                              <label>Please Enter Your Email Address
                                                <span class="text-danger">*</span>
                                                :</label>
                                            </div>
                                          </div>
                                          <div class="col-md-5 pl-0 nomar">
                                            <app-email-control [(ngModel)]="
                                                employer.newEmployer
                                                  .registeredEmailId
                                              " name="registeredEmailId" label="" required mandatory="true"
                                              [errorTrue]="employer.errorTrue" email="true" #emailId="ngModel"
                                              errorText="{{
                                                emailId.invalid &&
                                                (emailId.dirty ||
                                                  emailId.touched)
                                                  ? 'Invalid Email Format'
                                                  : ''
                                              }}">
                                            </app-email-control>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-12">
                                    <div class="row pt-4">
                                      <label>
                                        <b class="ml-3">
                                          Note : A link will be sent to the above email address to resume your
                                          incomplete registration process.
                                        </b>
                                      </label>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="panel-stepper-footer">
                        <div class="text-right">
                          <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'">
                            <button mat-raised-button color="accent" (click)="verifyEmployer(a)">
                              Verify
                            </button>
                          </ng-container>
                          <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'">
                            <a mat-raised-button color="accent" (click)="verifyEmployer(a)">
                              Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </a>
                          </ng-container>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </cdk-step>
              <cdk-step label="Documents Required" [completed]="step2Completed">
                <div class="panel-step">
                  <form #m="ngForm" autocomplete="off" class="h100">
                    <div class="panel-stepper h100">
                      <div class="panel-stepper-body">
                        <div class="ab">
                          <div class="rel">
                            <div class="pt-4">
                              <div class="container-fluid">
                                <div class="row">
                                  <div class="col-md-9">
                                    <div class="row">
                                      <div class="col-xl-12">
                                        <b>
                                          Please ensure you have the following
                                          documents before continuing
                                          registration</b>
                                      </div>

                                      <div class="text-secondary col-xl-12 pt-3">
                                        Employer Documents
                                      </div>
                                      <ng-container *ngFor="
                                          let required of employer.newEmployer
                                            .plstRequiredDocuments
                                        ">
                                        <ng-container *ngIf="required.contactType === 'EMP'">
                                          <div class="col-xl-12 d-flex pt-2">
                                            <mat-checkbox class="disable-checkbox" [checked]="
                                                required.isChecked === 'Y'
                                              ">
                                              <span>
                                                {{ required.documentName }}
                                              </span>
                                            </mat-checkbox>
                                          </div>
                                        </ng-container>
                                      </ng-container>
                                      <div class="text-secondary col-xl-12 pt-2">
                                        Director Documents
                                      </div>
                                      <ng-container *ngFor="let required of employer.newEmployer.plstRequiredDocuments">
                                        <ng-container *ngIf="required.contactType === 'DRTR'">
                                          <div class="col-xl-12 d-flex pt-2">
                                            <mat-checkbox class="disable-checkbox"
                                              [checked]="required.isChecked === 'Y'">
                                              <span>
                                                {{ required.documentName }}
                                              </span>
                                            </mat-checkbox>
                                          </div>
                                        </ng-container>
                                      </ng-container>
                                      <div class="text-secondary col-xl-12 pt-2">
                                        Primary / CS Contact Documents
                                      </div>
                                      <ng-container *ngFor="let required of employer.newEmployer.plstRequiredDocuments">
                                        <ng-container *ngIf="required.contactType === 'PRMY'">
                                          <div class="col-xl-12 d-flex pt-2">
                                            <mat-checkbox class="disable-checkbox"
                                              [checked]="required.isChecked === 'Y'">
                                              <span>
                                                {{ required.documentName }}
                                              </span>
                                            </mat-checkbox>
                                          </div>
                                        </ng-container>
                                      </ng-container>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="panel-stepper-footer">
                        <div class="text-right">
                          <button mat-raised-button color="accent" (click)="clickPrev()">
                            <ion-icon name="arrow-back-outline"></ion-icon>
                            Back
                          </button>
                          <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                          ">
                            <button mat-raised-button color="accent" type="submit" class="ml-3" (click)="step3Click()"
                              tabindex=" 5" [disabled]="loadingTrue">
                              <ng-container *ngIf="!loadingTrue">
                                Save And Next
                                <ion-icon name="arrow-forward-outline"></ion-icon>
                              </ng-container>
                              <ng-container *ngIf="loadingTrue">
                                <app-dot class="dot-big"></app-dot>
                              </ng-container>
                            </button>
                          </ng-container>
                          <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                          ">
                            <a mat-raised-button color="accent" (click)="step2Click()" class="ml-3">
                              Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </a>
                          </ng-container>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </cdk-step>
              <cdk-step label="Employer Documents Upload" [completed]="step3Completed">
                <form class="h100" #t="ngForm" autocomplete="off">
                  <div class="panel-step">
                    <div class="panel-stepper h100">
                      <div class="panel-stepper-body">
                        <div class="ab">
                          <div class="rel">
                            <div class="pt-4">
                              <div class="container-fluid">
                                <div class="row">
                                  <div class="col-xl-12">
                                    <ng-container *ngFor="
                                        let document of employer.newEmployer
                                          .plstEmployerRegistrationDocument
                                      ">
                                      <div class="d-flex">
                                        <div class="w60">
                                          <app-file-upload [label]="
                                              document.documentTypeDescription
                                            " [data]="document" (onload)="
                                              uploadEmployerDocument(
                                                $event,
                                                document
                                              )
                                            " [mandatory]="
                                              document.isMandatory === 'Y'
                                            " dname="document.pDocumentFile.fileName" [loading]="
                                              fileUploading ===
                                              document.documentTypeValue
                                            " required [errorTrue]="employer.errorTrue"
                                            [xFile]="document.pDocumentFile" expanded="true"
                                            (onclear)="clearFile($event)" [accept]="
                                              appSettingService.environment
                                                .fileAcceptImages
                                            ">
                                          </app-file-upload>
                                        </div>
                                        <div class="d-flex align-items-center pt-1">
                                          <button mat-raised-button color="accent" (click)="viewDocument(document)">
                                            <ion-icon name="eye-outline">
                                            </ion-icon>
                                            View
                                          </button>
                                        </div>
                                      </div>
                                    </ng-container>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="panel-stepper-footer">
                        <div class="text-right">
                          <a mat-raised-button color="accent" (click)="clickPrev()">
                            <ion-icon name="arrow-back-outline"></ion-icon>
                            Back
                          </a>
                          <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                          ">
                            <button mat-raised-button color="accent" (click)="documentSubmited()"
                              [disabled]="employer.btnClicked" class="ml-3">
                              <ng-container *ngIf="!employer.btnClicked">
                                Save And Next
                                <ion-icon name="arrow-forward-outline"></ion-icon>
                              </ng-container>
                              <ng-container *ngIf="employer.btnClicked">
                                <app-dot class="dot-big"></app-dot>
                              </ng-container>
                            </button>
                          </ng-container>
                          <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                          ">
                            <a mat-raised-button color="accent" (click)="step3Click()" class="ml-3">
                              Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </a>
                          </ng-container>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </cdk-step>
              <cdk-step label="Employer Details" [completed]="step4Completed">
                <div class="panel-step">
                  <form #b="ngForm" (ngSubmit)="saveData(b)" autocomplete="off" class="h100">
                    <div class="panel-stepper h100">
                      <div class="panel-stepper-body">
                        <div class="ab">
                          <div class="rel">
                            <div class="pt-4">
                              <div class="container-fluid">
                                <div class="row">
                                  <div class="col-md-10">
                                    <div class="row">
                                      <div class="col-xl-6">
                                        <app-input-control label="Employer Name" [(ngModel)]="
                                            employer.newEmployer.orgName
                                          " name="orgName" required mandatory="true" [btnClicked]="employer.btnClicked"
                                          [errorTrue]="employer.errorTrue" [upperCase]="true" emojiType="name">
                                        </app-input-control>
                                      </div>
                                      <div class="col-xl-6">
                                        <app-number-control label="Business License No" [(ngModel)]="
                                            employer.newEmployer
                                              .businessLicenseNo
                                          " name="businessLicenseNo">
                                        </app-number-control>
                                      </div>
                                      <div class="col-xl-6">
                                        <app-number-control label="TIN" name="tin"
                                          [(ngModel)]="employer.newEmployer.tin" tabindex="6" mandatory="true" required
                                          [errorTrue]="
                                            (employer.newEmployer.tin === '' ||
                                              tin.invalid) &&
                                            employer.errorTrue
                                          " [btnClicked]="employer.btnClicked" limit="10" pattern="[0-9]{9,10}$"
                                          #tin="ngModel" errorText="{{
                                            tin.invalid &&
                                            (tin.dirty || tin.touched)
                                              ? 'Should be 9 or 10 digit numbers'
                                              : ''
                                          }}" [errorTrue]="
                                            employer.newEmployer.tin === '' &&
                                            (tin.dirty || tin.touched)
                                          ">
                                        </app-number-control>
                                      </div>
                                      <div class="col-xl-6">
                                        <app-date-control label="Business Registration Date" [(ngModel)]="
                                            employer.newEmployer
                                              .businessRegistrationDate
                                          " name="businessRegistrationDate" [maxDate]="
                                            employer.newEmployer.currentDate
                                          " [btnClicked]="employer.btnClicked" required mandatory="true"
                                          [errorTrue]="employer.errorTrue">
                                        </app-date-control>
                                      </div>
                                      <div class="col-xl-6">
                                        <app-date-control label="Commencement Date" [(ngModel)]="
                                            employer.newEmployer
                                              .commencementDate
                                          " name="commencementDate" [btnClicked]="employer.btnClicked" required
                                          mandatory="true" [errorTrue]="employer.errorTrue">
                                        </app-date-control>
                                      </div>

                                      <div class="col-xl-6">
                                        <app-input-control label="Nature Of Business" [(ngModel)]="
                                            employer.newEmployer
                                              .natureOfBusiness
                                          " name="natureOfBusiness" [btnClicked]="employer.btnClicked" required
                                          mandatory="true" [errorTrue]="employer.errorTrue">
                                        </app-input-control>
                                      </div>
                                      <div class="col-xl-6">
                                        <app-number-control label="Total Number Of Employees" [(ngModel)]="
                                            employer.newEmployer.noOfEmployees
                                          " name="noOfEmployees" [btnClicked]="employer.btnClicked" required
                                          mandatory="true" [errorTrue]="employer.errorTrue">
                                        </app-number-control>
                                      </div>
                                      <div class="col-xl-6">
                                        <app-number-control label="Number Of Employees not Registered with FNPF"
                                          [(ngModel)]="
                                            employer.newEmployer
                                              .noOfNonRegisteredEmployees
                                          " name="noOfNonRegisteredEmployees" [btnClicked]="employer.btnClicked"
                                          required mandatory="true" [errorTrue]="employer.errorTrue">
                                        </app-number-control>
                                      </div>
                                      <div class="col-xl-6">
                                        <app-date-control label="Date Wages First Paid / Payable to Employees"
                                          [(ngModel)]="
                                            employer.newEmployer
                                              .firstWagesPaidDate
                                          " name="firstWagesPaidDate" [btnClicked]="employer.btnClicked" [minDate]="
                                            employer.newEmployer
                                              .commencementDate
                                          " required mandatory="true" [errorTrue]="employer.errorTrue">
                                        </app-date-control>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="panel-stepper-footer">
                        <div class="text-right">
                          <a mat-raised-button color="accent" (click)="clickPrev()">
                            <ion-icon name="arrow-back-outline"></ion-icon>
                            Back
                          </a>
                          <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                          ">
                            <button mat-raised-button color="accent" type="submit" class="ml-3" tabindex="5"
                              [disabled]="employer.btnClicked">
                              <ng-container *ngIf="!employer.btnClicked">
                                Save And Next
                                <ion-icon name="arrow-forward-outline"></ion-icon>
                              </ng-container>
                              <ng-container *ngIf="employer.btnClicked">
                                <app-dot class="dot-big"></app-dot>
                              </ng-container>
                            </button>
                          </ng-container>
                          <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                          ">
                            <a mat-raised-button color="accent" (click)="step4Click()" class="ml-3">
                              Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </a>
                          </ng-container>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </cdk-step>
              <cdk-step label="Employer Address Details" [completed]="step5Completed">
                <div class="panel-step">
                  <div class="panel-stepper h100">
                    <div class="panel-stepper-body">
                      <div class="row h100">
                        <div class="col-md-12">
                          <div class="ml-auto text-right mr-1 pt-2">
                            <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                            ">
                              <button mat-raised-button color="accent" (click)="newAddress()">
                                <ion-icon name="add"></ion-icon>
                                Add
                              </button>
                            </ng-container>
                          </div>
                        </div>
                        <div class="col-md-12 h100 pt-2">
                          <div class="table-responsive h90">
                            <div class="ab">
                              <div class="rel">
                                <table mat-table [dataSource]="addressSource" class="table-hover">
                                  <ng-container matColumnDef="addressTypeDescription">
                                    <th mat-header-cell *matHeaderCellDef>
                                      Address Type
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.addressTypeDescription }}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="countryDescription">
                                    <th mat-header-cell *matHeaderCellDef>
                                      Country
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.countryDescription }}
                                    </td>
                                  </ng-container>

                                  <ng-container matColumnDef="townDescription">
                                    <th mat-header-cell *matHeaderCellDef>
                                      Town
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      <ng-container *ngIf="element.countryValue==='FJI'">
                                        {{ element.townDescription }}
                                      </ng-container>
                                      <ng-container *ngIf="element.countryValue!=='FJI'">
                                        {{ element.townCity }}
                                      </ng-container>
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="line1">
                                    <th mat-header-cell *matHeaderCellDef>
                                      Address Detail
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.line1 }}
                                      {{ element.line2 }}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="action">
                                    <th mat-header-cell *matHeaderCellDef class="text-center">
                                      Action
                                    </th>
                                    <td mat-cell *matCellDef="let element" class="text-center py-0 text-nowrap">
                                      <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                                      ">
                                        <button mat-icon-button matTooltip="Edit" class="icon-only-btn" (click)="
                                          editAddress(
                                            element.employerRegistrationAddressId
                                          )
                                        ">
                                          <ion-icon name="pencil-outline">
                                          </ion-icon>
                                        </button>
                                        <button class="ml-1" mat-icon-button matTooltip="Delete"
                                          class="text-danger icon-only-btn" (click)="checkDeleteData(element)">
                                          <ion-icon name="trash-outline">
                                          </ion-icon>
                                        </button>
                                      </ng-container>
                                    </td>
                                  </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="addressdisplayColumns"></tr>
                                  <tr mat-row *matRowDef="
                                      let row;
                                      columns: addressdisplayColumns
                                    " [ngClass]="{ active: activeIndex == row }" (click)="active(row)"></tr>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel-stepper-footer">
                      <div class="text-right">
                        <button mat-raised-button color="accent" (click)="clickPrev()">
                          <ion-icon name="arrow-back-outline"></ion-icon>
                          Back
                        </button>
                        <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                        ">
                          <button mat-raised-button color="accent" (click)="validateAddress()" class="ml-3">
                            <ng-container *ngIf="!employer.btnClicked">
                              Save And Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </ng-container>
                            <ng-container *ngIf="employer.btnClicked">
                              <app-dot class="dot-big"></app-dot>
                            </ng-container>
                          </button>
                        </ng-container>
                        <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                          ">
                          <a mat-raised-button color="accent" (click)="step5Click()" class="ml-3">
                            Next
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                          </a>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </cdk-step>
              <cdk-step label="Employer Communication Details" [completed]="step6Completed">
                <div class="panel-step">
                  <div class="panel-stepper h100">
                    <div class="panel-stepper-body">
                      <div class="row h100">
                        <div class="col-md-12">
                          <div class="ml-auto text-right pt-2 mr-1">
                            <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                            ">
                              <button mat-raised-button color="accent" (click)="newContact()">
                                <ion-icon name="add"></ion-icon>
                                Add
                              </button>
                            </ng-container>
                          </div>
                        </div>
                        <div class="col-md-12 h100 pt-2">
                          <div class="table-responsive h90">
                            <div class="ab">
                              <div class="rel">
                                <table mat-table [dataSource]="contactSource" class="table-hover">
                                  <ng-container matColumnDef="contactTypeDescription">
                                    <th mat-header-cell *matHeaderCellDef>
                                      Contact Type
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.contactTypeDescription }}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="communicationDetails">
                                    <th mat-header-cell *matHeaderCellDef>
                                      Contact Detail
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.communicationDetails }}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="action">
                                    <th mat-header-cell *matHeaderCellDef class="text-center">
                                      Action
                                    </th>
                                    <td mat-cell *matCellDef="let element" class="text-center py-0 text-nowrap">
                                      <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                                      ">
                                        <button mat-icon-button matTooltip="Edit" class="icon-only-btn" (click)="
                                          editContact(
                                            element.employerRegistrationCommunicationDetailId
                                          )
                                        ">
                                          <ion-icon name="pencil-outline">
                                          </ion-icon>
                                        </button>
                                        <button class="ml-1" mat-icon-button matTooltip="Delete"
                                          class="text-danger icon-only-btn" (click)="
                                          checkDeleteContactData(element)
                                        ">
                                          <ion-icon name="trash-outline">
                                          </ion-icon>
                                        </button>
                                      </ng-container>
                                    </td>
                                  </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="contactdisplayColumns"></tr>
                                  <tr mat-row *matRowDef="
                                      let row;
                                      columns: contactdisplayColumns
                                    " [ngClass]="{ active: activeIndex == row }" (click)="active(row)"></tr>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel-stepper-footer">
                      <div class="text-right">
                        <button mat-raised-button color="accent" (click)="clickPrev()">
                          <ion-icon name="arrow-back-outline"></ion-icon>
                          Back
                        </button>
                        <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                        ">
                          <button mat-raised-button color="accent" (click)="validateCommunication()" class="ml-3">
                            <ng-container *ngIf="!employer.btnClicked">
                              Save And Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </ng-container>
                            <ng-container *ngIf="employer.btnClicked">
                              <app-dot class="dot-big"></app-dot>
                            </ng-container>
                          </button>
                        </ng-container>
                        <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                        ">
                          <a mat-raised-button color="accent" (click)="step6Click()" class="ml-3">
                            Next
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                          </a>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </cdk-step>
              <cdk-step label="Directors Information" [completed]="step7Completed">
                <div class="panel-step">
                  <div class="panel-stepper h100">
                    <div class="panel-stepper-body">
                      <div class="row h100">
                        <div class="col-md-12">
                          <div class="ml-auto text-right pt-2 mr-1">
                            <ng-container
                              *ngIf="employer.newEmployer.iblShowNewDirectorbtn && this.employer.newEmployer.statusValue !=='SUBMD'">
                              <button mat-raised-button color="accent" (click)="newDirector()">
                                <ion-icon name="add"></ion-icon>
                                Add
                              </button>
                            </ng-container>
                          </div>
                        </div>
                        <div class="col-md-12 h100 pt-2">
                          <div class="table-responsive h90">
                            <div class="ab">
                              <div class="rel">
                                <table mat-table [dataSource]="directorSource" class="table-hover">
                                  <ng-container matColumnDef="fnpfNo">
                                    <th mat-header-cell *matHeaderCellDef>
                                      FNPF No
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.fnpfNo }}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="tinNo">
                                    <th mat-header-cell *matHeaderCellDef>
                                      TIN
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.tinNo }}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="fullName">
                                    <th mat-header-cell *matHeaderCellDef>
                                      Name
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.fullName }}
                                    </td>
                                  </ng-container>
                                  <ng-container matColumnDef="action">
                                    <th mat-header-cell *matHeaderCellDef class="text-center">
                                      Action
                                    </th>
                                    <td mat-cell *matCellDef="let element" class="text-center py-0 text-nowrap">
                                      <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                                      ">
                                        <button mat-icon-button matTooltip="Edit" class="icon-only-btn" (click)="
                                          editDirector(
                                            element.employerRegistrationContactId
                                          )
                                        ">
                                          <ion-icon name="pencil-outline">
                                          </ion-icon>
                                        </button>
                                        <button class="ml-1" mat-icon-button matTooltip="Delete"
                                          class="text-danger icon-only-btn" (click)="
                                          checkDeleteDirectorData(element)
                                        ">
                                          <ion-icon name="trash-outline">
                                          </ion-icon>
                                        </button>
                                      </ng-container>
                                    </td>
                                  </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="directordisplayColumns"></tr>
                                  <tr mat-row *matRowDef="
                                      let row;
                                      columns: directordisplayColumns
                                    " [ngClass]="{ active: activeIndex == row }" (click)="active(row)"></tr>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel-stepper-footer">
                      <div class="text-right">
                        <button mat-raised-button color="accent" (click)="clickPrev()">
                          <ion-icon name="arrow-back-outline"></ion-icon>
                          Back
                        </button>
                        <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                        ">
                          <button mat-raised-button color="accent" (click)="validateDirectorContacts()" class="ml-3">
                            <ng-container *ngIf="!employer.btnClicked">
                              Save And Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </ng-container>
                            <ng-container *ngIf="employer.btnClicked">
                              <app-dot class="dot-big"></app-dot>
                            </ng-container>
                          </button>
                        </ng-container>
                        <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                        ">
                          <a mat-raised-button color="accent" (click)="step7Click()" class="ml-3">
                            Next
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                          </a>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </cdk-step>
              <cdk-step label="Primary Contact Information" [completed]="step8Completed">
                <div class="panel-step">
                  <div class="panel-stepper h100">
                    <div class="panel-stepper-body">
                      <div class="ab">
                        <div class="rel">
                          <div class="d-flex z-2 align-items-center">
                            <div class="ml-auto d-flex pt-2">
                              <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                              ">
                                <button mat-raised-button color="accent" class="ml-3" (click)="newPrimaryContact()">
                                  <ion-icon name="add"></ion-icon>
                                  Add
                                </button>
                              </ng-container>
                            </div>
                          </div>
                          <div class="ab pt50 pb-3">
                            <div class="rel">
                              <div class="table-responsive h90">
                                <div class="ab">
                                  <div class="rel">
                                    <table mat-table [dataSource]="primarycontactSource" class="table-hover">
                                      <ng-container matColumnDef="fnpfNo">
                                        <th mat-header-cell *matHeaderCellDef>
                                          FNPF No
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                          {{ element.fnpfNo }}
                                        </td>
                                      </ng-container>
                                      <ng-container matColumnDef="tinNo">
                                        <th mat-header-cell *matHeaderCellDef>
                                          TIN
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                          {{ element.tinNo }}
                                        </td>
                                      </ng-container>
                                      <ng-container matColumnDef="fullName">
                                        <th mat-header-cell *matHeaderCellDef>
                                          Name
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                          {{ element.fullName }}
                                        </td>
                                      </ng-container>
                                      <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef class="text-center">
                                          Action
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-center py-0 text-nowrap">
                                          <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                                          ">
                                            <button mat-icon-button matTooltip="Edit" class="icon-only-btn" (click)="
                                              editPrimaryContact(
                                                element.employerRegistrationContactId
                                              )
                                            ">
                                              <ion-icon name="pencil-outline">
                                              </ion-icon>
                                            </button>
                                            <button class="ml-1" mat-icon-button matTooltip="Delete"
                                              class="text-danger icon-only-btn" (click)="
                                              checkDeletePrimaryContact(element)
                                            ">
                                              <ion-icon name="trash-outline">
                                              </ion-icon>
                                            </button>
                                          </ng-container>
                                        </td>
                                      </ng-container>
                                      <tr mat-header-row *matHeaderRowDef="
                                          primarycontactdisplayColumns
                                        "></tr>
                                      <tr mat-row *matRowDef="
                                          let row;
                                          columns: primarycontactdisplayColumns
                                        " [ngClass]="{
                                          active: activeIndex == row
                                        }" (click)="active(row)"></tr>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel-stepper-footer">
                      <div class="text-right">
                        <a mat-raised-button color="accent" (click)="clickPrev()">
                          <ion-icon name="arrow-back-outline"></ion-icon>
                          Back
                        </a>
                        <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                        ">
                          <button mat-raised-button color="accent" (click)="validatePrimaryContacts()" class="ml-3">
                            <ng-container *ngIf="!employer.btnClicked">
                              Save And Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </ng-container>
                            <ng-container *ngIf="employer.btnClicked">
                              <app-dot class="dot-big"></app-dot>
                            </ng-container>
                          </button>
                        </ng-container>
                        <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                        ">
                          <a mat-raised-button color="accent" (click)="step8Click()" class="ml-3">
                            Next
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                          </a>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </cdk-step>
              <cdk-step label="CS Contact Information" [completed]="step9Completed">
                <div class="panel-step">
                  <div class="panel-stepper h100">
                    <div class="panel-stepper-body">
                      <div class="ab">
                        <div class="rel">
                          <div class="d-flex z-2 align-items-center">
                            <div class="ml-auto d-flex pt-2">
                              <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                              ">
                                <button mat-raised-button color="accent" class="ml-3" (click)="newCSContact()">
                                  <ion-icon name="add"></ion-icon>
                                  Add
                                </button>
                              </ng-container>
                            </div>
                          </div>
                          <div class="ab pt50 pb-3">
                            <div class="rel">
                              <div class="table-responsive h90">
                                <div class="ab">
                                  <div class="rel">
                                    <table mat-table [dataSource]="cscontactSource" class="table-hover">
                                      <ng-container matColumnDef="fnpfNo">
                                        <th mat-header-cell *matHeaderCellDef>
                                          FNPF No
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                          {{ element.fnpfNo }}
                                        </td>
                                      </ng-container>
                                      <ng-container matColumnDef="tinNo">
                                        <th mat-header-cell *matHeaderCellDef>
                                          TIN
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                          {{ element.tinNo }}
                                        </td>
                                      </ng-container>
                                      <ng-container matColumnDef="fullName">
                                        <th mat-header-cell *matHeaderCellDef>
                                          Name
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                          {{ element.fullName }}
                                        </td>
                                      </ng-container>
                                      <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef class="text-center">
                                          Action
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-center py-0 text-nowrap">
                                          <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                                          ">
                                            <button mat-icon-button matTooltip="Edit" class="icon-only-btn" (click)="
                                              editCSContact(
                                                element.employerRegistrationContactId
                                              )
                                            ">
                                              <ion-icon name="pencil-outline">
                                              </ion-icon>
                                            </button>
                                            <button class="ml-1" mat-icon-button matTooltip="Delete"
                                              class="text-danger icon-only-btn" (click)="
                                              checkDeleteCSContact(element)
                                            ">
                                              <ion-icon name="trash-outline">
                                              </ion-icon>
                                            </button>
                                          </ng-container>
                                        </td>
                                      </ng-container>
                                      <tr mat-header-row *matHeaderRowDef="
                                          cscontactdisplayColumns
                                        "></tr>
                                      <tr mat-row *matRowDef="
                                          let row;
                                          columns: cscontactdisplayColumns
                                        " [ngClass]="{
                                          active: activeIndex == row
                                        }" (click)="active(row)"></tr>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel-stepper-footer">
                      <div class="text-right">
                        <a mat-raised-button color="accent" (click)="clickPrev()">
                          <ion-icon name="arrow-back-outline"></ion-icon>
                          Back
                        </a>
                        <ng-container *ngIf="employer.newEmployer.statusValue !== 'SUBMD'
                        ">
                          <button mat-raised-button color="accent" (click)="validateCSContacts()" class="ml-3">
                            <ng-container *ngIf="!employer.btnClicked">
                              Save And Next
                              <ion-icon name="arrow-forward-outline"></ion-icon>
                            </ng-container>
                            <ng-container *ngIf="employer.btnClicked">
                              <app-dot class="dot-big"></app-dot>
                            </ng-container>
                          </button>
                        </ng-container>
                        <ng-container *ngIf="employer.newEmployer.statusValue === 'SUBMD'
                        ">
                          <a mat-raised-button color="accent" (click)="step9Click()" class="ml-3">
                            Next
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                          </a>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </cdk-step>
              <cdk-step label="Declaration" [completed]="step10Completed">
                <div class="panel-step">
                  <div class="panel-stepper h100">
                    <div class="panel-stepper-body">
                      <div class="ab">
                        <div class="vertical-flex h100">
                          <!-- <div class="flex-1 relative">
                            <ng-container *ngIf="url !== ''">
                              <div class="h100">
                                <div class="pdf-viewer">
                                  <object [data]="url | safe: 'resourceUrl'" type="application/pdf"></object>
                                </div>
                              </div>
                            </ng-container>
                          </div> -->
                          <div class="row d-flex align-items-center pt-3">
                            <div class="col-md-4">
                              <button mat-raised-button color="accent" (click)="downloademployerregistrationform()">

                                Download Employer Reg Form
                              </button>
                            </div>
                            <div class="col-md-8">
                              <div class="d-flex">
                                <div class="w60">
                                  <app-file-upload label="Upload Declared Document:"
                                    [data]="employer.newEmployer.pEmployerRegistrationDocumentWithCompanyLogo"
                                    (onload)="uploadEmployerDeclarationDocument($event)"
                                    [mandatory]="employer.newEmployer.pEmployerRegistrationDocumentWithCompanyLogo.isMandatory === 'Y'"
                                    dname="employer.newEmployer.pEmployerRegistrationDocumentWithCompanyLogo.pDocumentFile.fileName"
                                    [loading]="fileUploading === employer.newEmployer.pEmployerRegistrationDocumentWithCompanyLogo.documentTypeValue"
                                    required [errorTrue]="employer.errorTrue"
                                    [xFile]="employer.newEmployer.pEmployerRegistrationDocumentWithCompanyLogo.pDocumentFile"
                                    (onclear)="clearEmployerDeclarationFile()"
                                    [accept]="appSettingService.environment.fileAcceptImages" [expanded]='true'>
                                  </app-file-upload>
                                </div>
                                <div class="d-flex align-items-center pt-1">
                                  <button mat-raised-button color="accent"
                                    (click)="viewDocument(employer.newEmployer.pEmployerRegistrationDocumentWithCompanyLogo)">
                                    <ion-icon name="eye-outline"></ion-icon>
                                    View
                                  </button>
                                </div>

                              </div>
                            </div>
                            <div class="col-xl-12 text-center pt-3">
                              <div class="form-group d-flex">
                                <mat-checkbox (change)="CheckDeclaration($event.checked)" [checked]="
                                    employer.newEmployer.acceptDeclaration ===
                                    'Y'
                                  ">
                                </mat-checkbox>
                                <label class="pl-3 text-left">
                                  I agree that the information entered is
                                  correct and true to the best of my
                                  knowledge.</label>
                              </div>
                            </div>
                            <div class="col-xl-12 pt-2">
                              <label>INSTRUCTIONS : </label>
                              <div class="pt-1 fs">
                                1. Download the pre-filled form by clicking the "Download Employer Registration Form"
                                button.
                              </div>
                              <div class="pt-2 fs">
                                2. Fill in the "Declaration" portion of the form (Section 6).
                              </div>
                              <div class="pt-2 fs">
                                3. Upload the declared form."
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel-stepper-footer">
                      <div class="text-right">
                        <a mat-raised-button color="accent" (click)="clickPrev()">
                          <ion-icon name="arrow-back-outline"></ion-icon>
                          Back
                        </a>
                        <ng-container *ngIf="
                            !employer.btnClicked &&
                            employer.newEmployer.statusValue === 'PNDSB'
                          ">
                          <button mat-raised-button color="danger" class="ml-3" (click)="Cancelemployerregistration()">
                            Cancel
                            <ion-icon name="close-circle"></ion-icon>
                          </button>
                        </ng-container>
                        <ng-container *ngIf="
                            !employer.btnClicked &&
                            employer.newEmployer.statusValue === 'PNDSB'
                          ">
                          <button mat-raised-button color="accent" class="ml-3" (click)="Submitemployerregistration()">
                            Submit
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                          </button>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </cdk-step>
            </app-stepper>
          </div>
        </ng-container>
        <div class="h100 bg-white" *ngIf="successTrue">
          <div class="stepper-container">
            <div class="stepper-content">
              <div class="panel-step">
                <div class="v-center">
                  <div class="s-box text-center">
                    <div class="circle-tick"></div>
                    <p>
                      Your Employer registration request has been successfully
                      submitted. You will receive an email to login once the
                      request has been verified and completed by FNPF staff, in
                      2 working days. Please contact FNPF customer service for
                      any queries.
                    </p>
                    <button mat-raised-button color="accent" class="ml-3" [routerLink]="['/']">
                      <ion-icon name="arrow-back-outline"></ion-icon>
                      Home
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>